{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 6, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 68, "column": 0}, "map": {"version":3,"sources":["file:///Users/rawboy/Downloads/property-final--master/src/app/api/articles/route.ts"],"sourcesContent":["import { NextRequest, NextResponse } from 'next/server';\nimport mongoose from 'mongoose';\n\nconst MONGODB_URI = 'mongodb+srv://solankiish25:1234@cluster0.hvuwzyq.mongodb.net/?retryWrites=true&w=majority&appName=Cluster0';\nconst DB_NAME = 'test';\n\nlet isConnected = false;\nasync function connectDB() {\n  if (isConnected) return;\n  await mongoose.connect(MONGODB_URI, { dbName: DB_NAME });\n  isConnected = true;\n}\n\nconst imageSchema = new mongoose.Schema({\n  url: String,\n  name: String,\n  data: String,\n}, { _id: false });\n\nconst articleSchema = new mongoose.Schema({\n  title: String,\n  author: String,\n  date: String,\n  readTime: String,\n  content: [String],\n  images: [imageSchema],\n  featured: Boolean,\n  coverImage: imageSchema,\n}, { timestamps: true });\n\nconst Article = mongoose.models.Article || mongoose.model('Article', articleSchema, 'articles');\n\nexport async function GET() {\n  try {\n    await connectDB();\n    const articles = await Article.find().sort({ createdAt: -1 });\n    return NextResponse.json({ success: true, articles });\n  } catch (error) {\n    return NextResponse.json({ success: false, message: 'Internal server error' }, { status: 500 });\n  }\n}\n\nexport async function POST(req: NextRequest) {\n  try {\n    await connectDB();\n    const data = await req.json();\n    const article = await Article.create(data);\n    return NextResponse.json({ success: true, article });\n  } catch (error) {\n    return NextResponse.json({ success: false, message: 'Internal server error' }, { status: 500 });\n  }\n}\n\nexport async function PUT(req: NextRequest) {\n  try {\n    await connectDB();\n    const data = await req.json();\n    if (!data._id) return NextResponse.json({ success: false, message: 'Missing article ID' }, { status: 400 });\n    const article = await Article.findByIdAndUpdate(data._id, { ...data, updatedAt: new Date() }, { new: true });\n    return NextResponse.json({ success: true, article });\n  } catch (error) {\n    return NextResponse.json({ success: false, message: 'Internal server error' }, { status: 500 });\n  }\n}\n\nexport async function DELETE(req: NextRequest) {\n  try {\n    await connectDB();\n    const { _id } = await req.json();\n    if (!_id) return NextResponse.json({ success: false, message: 'Missing article ID' }, { status: 400 });\n    await Article.findByIdAndDelete(_id);\n    return NextResponse.json({ success: true });\n  } catch (error) {\n    return NextResponse.json({ success: false, message: 'Internal server error' }, { status: 500 });\n  }\n} "],"names":[],"mappings":";;;;;;AAAA;AACA;;;AAEA,MAAM,cAAc;AACpB,MAAM,UAAU;AAEhB,IAAI,cAAc;AAClB,eAAe;IACb,IAAI,aAAa;IACjB,MAAM,yGAAA,CAAA,UAAQ,CAAC,OAAO,CAAC,aAAa;QAAE,QAAQ;IAAQ;IACtD,cAAc;AAChB;AAEA,MAAM,cAAc,IAAI,yGAAA,CAAA,UAAQ,CAAC,MAAM,CAAC;IACtC,KAAK;IACL,MAAM;IACN,MAAM;AACR,GAAG;IAAE,KAAK;AAAM;AAEhB,MAAM,gBAAgB,IAAI,yGAAA,CAAA,UAAQ,CAAC,MAAM,CAAC;IACxC,OAAO;IACP,QAAQ;IACR,MAAM;IACN,UAAU;IACV,SAAS;QAAC;KAAO;IACjB,QAAQ;QAAC;KAAY;IACrB,UAAU;IACV,YAAY;AACd,GAAG;IAAE,YAAY;AAAK;AAEtB,MAAM,UAAU,yGAAA,CAAA,UAAQ,CAAC,MAAM,CAAC,OAAO,IAAI,yGAAA,CAAA,UAAQ,CAAC,KAAK,CAAC,WAAW,eAAe;AAE7E,eAAe;IACpB,IAAI;QACF,MAAM;QACN,MAAM,WAAW,MAAM,QAAQ,IAAI,GAAG,IAAI,CAAC;YAAE,WAAW,CAAC;QAAE;QAC3D,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CAAC;YAAE,SAAS;YAAM;QAAS;IACrD,EAAE,OAAO,OAAO;QACd,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CAAC;YAAE,SAAS;YAAO,SAAS;QAAwB,GAAG;YAAE,QAAQ;QAAI;IAC/F;AACF;AAEO,eAAe,KAAK,GAAgB;IACzC,IAAI;QACF,MAAM;QACN,MAAM,OAAO,MAAM,IAAI,IAAI;QAC3B,MAAM,UAAU,MAAM,QAAQ,MAAM,CAAC;QACrC,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CAAC;YAAE,SAAS;YAAM;QAAQ;IACpD,EAAE,OAAO,OAAO;QACd,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CAAC;YAAE,SAAS;YAAO,SAAS;QAAwB,GAAG;YAAE,QAAQ;QAAI;IAC/F;AACF;AAEO,eAAe,IAAI,GAAgB;IACxC,IAAI;QACF,MAAM;QACN,MAAM,OAAO,MAAM,IAAI,IAAI;QAC3B,IAAI,CAAC,KAAK,GAAG,EAAE,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CAAC;YAAE,SAAS;YAAO,SAAS;QAAqB,GAAG;YAAE,QAAQ;QAAI;QACzG,MAAM,UAAU,MAAM,QAAQ,iBAAiB,CAAC,KAAK,GAAG,EAAE;YAAE,GAAG,IAAI;YAAE,WAAW,IAAI;QAAO,GAAG;YAAE,KAAK;QAAK;QAC1G,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CAAC;YAAE,SAAS;YAAM;QAAQ;IACpD,EAAE,OAAO,OAAO;QACd,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CAAC;YAAE,SAAS;YAAO,SAAS;QAAwB,GAAG;YAAE,QAAQ;QAAI;IAC/F;AACF;AAEO,eAAe,OAAO,GAAgB;IAC3C,IAAI;QACF,MAAM;QACN,MAAM,EAAE,GAAG,EAAE,GAAG,MAAM,IAAI,IAAI;QAC9B,IAAI,CAAC,KAAK,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CAAC;YAAE,SAAS;YAAO,SAAS;QAAqB,GAAG;YAAE,QAAQ;QAAI;QACpG,MAAM,QAAQ,iBAAiB,CAAC;QAChC,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CAAC;YAAE,SAAS;QAAK;IAC3C,EAAE,OAAO,OAAO;QACd,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CAAC;YAAE,SAAS;YAAO,SAAS;QAAwB,GAAG;YAAE,QAAQ;QAAI;IAC/F;AACF","debugId":null}}]
}