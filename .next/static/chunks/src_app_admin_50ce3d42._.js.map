{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///Users/rawboy/Downloads/property-final--master/src/app/admin/context/AppContext.tsx"],"sourcesContent":["import React, { createContext, useContext, useState, ReactNode, useEffect } from 'react';\nimport { Property, Settings } from '../types';\n\ninterface AppContextType {\n  currentPage: string;\n  setCurrentPage: (page: string) => void;\n  isAuthenticated: boolean;\n  login: (email: string, password: string) => void;\n  logout: () => void;\n  user: { email: string } | null;\n  properties: Property[];\n  setProperties: (properties: Property[]) => void;\n  settings: Settings;\n  setSettings: (settings: Settings) => void;\n  showToast: (message: string, type: 'success' | 'error' | 'info') => void;\n  toast: { message: string; type: 'success' | 'error' | 'info' } | null;\n  selectedProperty: Property | null;\n  setSelectedProperty: (property: Property | null) => void;\n}\n\nconst AppContext = createContext<AppContextType | undefined>(undefined);\n\nexport const useApp = () => {\n  const context = useContext(AppContext);\n  if (!context) {\n    throw new Error('useApp must be used within an AppProvider');\n  }\n  return context;\n};\n\ninterface AppProviderProps {\n  children: ReactNode;\n}\n\nexport const AppProvider: React.FC<AppProviderProps> = ({ children }) => {\n  const [currentPage, setCurrentPage] = useState('properties');\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\n  const [user, setUser] = useState<{ email: string } | null>(null);\n  const [properties, setProperties] = useState<Property[]>([]);\n  const [settings, setSettings] = useState<Settings>({\n    general: {\n      siteName: 'Real Estate CMS',\n      language: 'English',\n      timezone: 'UTC',\n    },\n    preferences: {\n      theme: 'dark',\n      notifications: true,\n    },\n    security: {\n      twoFA: false,\n      sessionTimeout: 30,\n    },\n    properties: {\n      defaultType: 'Apartment',\n      customFields: [],\n      statusTypes: ['Ready', 'Under Construction', 'Upcoming'],\n    },\n    integrations: {\n      apiKey: '',\n      webhooks: [],\n    },\n  });\n  const [toast, setToast] = useState<{ message: string; type: 'success' | 'error' | 'info' } | null>(null);\n  const [selectedProperty, setSelectedProperty] = useState<Property | null>(null);\n\n  const showToast = (message: string, type: 'success' | 'error' | 'info') => {\n    setToast({ message, type });\n    setTimeout(() => setToast(null), 3000);\n  };\n\n  // Restore auth state from localStorage on mount\n  useEffect(() => {\n    const storedAuth = localStorage.getItem('isAuthenticated');\n    const storedUser = localStorage.getItem('user');\n    if (storedAuth === 'true' && storedUser) {\n      setIsAuthenticated(true);\n      setUser(JSON.parse(storedUser));\n    }\n  }, []);\n\n  const login = async (email: string, password: string) => {\n    try {\n      const res = await fetch('/api/auth', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ email, password }),\n      });\n      const data = await res.json();\n      if (data.success) {\n        setIsAuthenticated(true);\n        setUser({ email });\n        localStorage.setItem('isAuthenticated', 'true');\n        localStorage.setItem('user', JSON.stringify({ email }));\n        setCurrentPage('dashboard');\n        showToast('Login successful!', 'success');\n      } else {\n        setIsAuthenticated(false);\n        setUser(null);\n        localStorage.removeItem('isAuthenticated');\n        localStorage.removeItem('user');\n        showToast(data.message || 'Login failed', 'error');\n      }\n    } catch (err) {\n      setIsAuthenticated(false);\n      setUser(null);\n      localStorage.removeItem('isAuthenticated');\n      localStorage.removeItem('user');\n      showToast('Login failed. Please try again.', 'error');\n    }\n  };\n\n  const logout = () => {\n    setIsAuthenticated(false);\n    setUser(null);\n    localStorage.removeItem('isAuthenticated');\n    localStorage.removeItem('user');\n    setCurrentPage('dashboard');\n    showToast('Logged out successfully', 'info');\n  };\n\n  return (\n    <AppContext.Provider\n      value={{\n        currentPage,\n        setCurrentPage,\n        isAuthenticated,\n        login,\n        logout,\n        user,\n        properties,\n        setProperties,\n        settings,\n        setSettings,\n        showToast,\n        toast,\n        selectedProperty,\n        setSelectedProperty,\n      }}\n    >\n      {children}\n    </AppContext.Provider>\n  );\n};"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 164, "column": 0}, "map": {"version":3,"sources":["file:///Users/rawboy/Downloads/property-final--master/src/app/admin/components/layout/Sidebar.tsx"],"sourcesContent":["import React from 'react';\nimport { \n  Home, \n  Building, \n  MessageSquare,\n  Settings, \n  Menu,\n  X,\n  BookOpen\n} from 'lucide-react';\nimport { useApp } from '../../context/AppContext';\n\ninterface SidebarProps {\n  isOpen: boolean;\n  onToggle: () => void;\n}\n\nexport const Sidebar: React.FC<SidebarProps> = ({ isOpen, onToggle }) => {\n  const { currentPage, setCurrentPage } = useApp();\n\n  const menuItems = [\n    { id: 'dashboard', label: 'Dashboard', icon: Home },\n    { id: 'groups', label: 'Groups', icon: Menu },\n    { id: 'property-categories', label: 'Property Categories', icon: Building },\n    { id: 'properties', label: 'Properties', icon: Building },\n    { id: 'inquiries', label: 'Inquiries', icon: MessageSquare },\n    { id: 'articles', label: 'Articles', icon: BookOpen },\n  ];\n\n  return (\n    <>\n      {/* Mobile overlay */}\n      {isOpen && (\n        <div \n          className=\"fixed inset-0 bg-black bg-opacity-50 z-40 lg:hidden\"\n          onClick={onToggle}\n        />\n      )}\n\n      {/* Sidebar */}\n      <div className={`fixed left-0 top-0 h-full w-72 bg-black border-r border-gray-800 z-50 transform transition-transform duration-200 ease-in-out ${\n        isOpen ? 'translate-x-0' : '-translate-x-full'\n      } lg:translate-x-0 lg:static lg:z-0`}>\n        <div className=\"flex items-center justify-between p-4 border-b border-gray-800\">\n          <div className=\"flex items-center space-x-2\">\n            <div className=\"w-8 h-8 bg-red-600 rounded-lg flex items-center justify-center\">\n              <Building className=\"h-5 w-5 text-white\" />\n            </div>\n            <h1 className=\"text-xl font-bold text-white\">Real Estate CMS</h1>\n          </div>\n          <button\n            onClick={onToggle}\n            className=\"lg:hidden text-gray-400 hover:text-white\"\n          >\n            <X className=\"h-6 w-6\" />\n          </button>\n        </div>\n\n        <nav className=\"mt-6 px-4\">\n          {menuItems.map((item) => {\n            const Icon = item.icon;\n            const isActive = currentPage === item.id;\n            \n            return (\n              <button\n                key={item.id}\n                onClick={() => {\n                  setCurrentPage(item.id);\n                  onToggle();\n                }}\n                className={`w-full flex items-center space-x-3 px-4 py-3 rounded-lg transition-all duration-200 mb-2 ${\n                  isActive\n                    ? 'bg-red-600 text-white'\n                    : 'text-gray-300 hover:bg-gray-800 hover:text-white'\n                }`}\n              >\n                <Icon className=\"h-5 w-5\" />\n                <span className=\"font-medium\">{item.label}</span>\n              </button>\n            );\n          })}\n        </nav>\n      </div>\n    </>\n  );\n};"],"names":[],"mappings":";;;;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AASA;;;;;AAOO,MAAM,UAAkC,CAAC,EAAE,MAAM,EAAE,QAAQ,EAAE;;IAClE,MAAM,EAAE,WAAW,EAAE,cAAc,EAAE,GAAG,CAAA,GAAA,gJAAA,CAAA,SAAM,AAAD;IAE7C,MAAM,YAAY;QAChB;YAAE,IAAI;YAAa,OAAO;YAAa,MAAM,sMAAA,CAAA,OAAI;QAAC;QAClD;YAAE,IAAI;YAAU,OAAO;YAAU,MAAM,qMAAA,CAAA,OAAI;QAAC;QAC5C;YAAE,IAAI;YAAuB,OAAO;YAAuB,MAAM,6MAAA,CAAA,WAAQ;QAAC;QAC1E;YAAE,IAAI;YAAc,OAAO;YAAc,MAAM,6MAAA,CAAA,WAAQ;QAAC;QACxD;YAAE,IAAI;YAAa,OAAO;YAAa,MAAM,2NAAA,CAAA,gBAAa;QAAC;QAC3D;YAAE,IAAI;YAAY,OAAO;YAAY,MAAM,iNAAA,CAAA,WAAQ;QAAC;KACrD;IAED,qBACE;;YAEG,wBACC,6LAAC;gBACC,WAAU;gBACV,SAAS;;;;;;0BAKb,6LAAC;gBAAI,WAAW,CAAC,8HAA8H,EAC7I,SAAS,kBAAkB,oBAC5B,kCAAkC,CAAC;;kCAClC,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCAAI,WAAU;;kDACb,6LAAC;wCAAI,WAAU;kDACb,cAAA,6LAAC,6MAAA,CAAA,WAAQ;4CAAC,WAAU;;;;;;;;;;;kDAEtB,6LAAC;wCAAG,WAAU;kDAA+B;;;;;;;;;;;;0CAE/C,6LAAC;gCACC,SAAS;gCACT,WAAU;0CAEV,cAAA,6LAAC,+LAAA,CAAA,IAAC;oCAAC,WAAU;;;;;;;;;;;;;;;;;kCAIjB,6LAAC;wBAAI,WAAU;kCACZ,UAAU,GAAG,CAAC,CAAC;4BACd,MAAM,OAAO,KAAK,IAAI;4BACtB,MAAM,WAAW,gBAAgB,KAAK,EAAE;4BAExC,qBACE,6LAAC;gCAEC,SAAS;oCACP,eAAe,KAAK,EAAE;oCACtB;gCACF;gCACA,WAAW,CAAC,yFAAyF,EACnG,WACI,0BACA,oDACJ;;kDAEF,6LAAC;wCAAK,WAAU;;;;;;kDAChB,6LAAC;wCAAK,WAAU;kDAAe,KAAK,KAAK;;;;;;;+BAZpC,KAAK,EAAE;;;;;wBAelB;;;;;;;;;;;;;;AAKV;GApEa;;QAC6B,gJAAA,CAAA,SAAM;;;KADnC","debugId":null}},
    {"offset": {"line": 347, "column": 0}, "map": {"version":3,"sources":["file:///Users/rawboy/Downloads/property-final--master/src/app/admin/components/common/Button.tsx"],"sourcesContent":["import React from 'react';\nimport { LucideIcon } from 'lucide-react';\n\ninterface ButtonProps {\n  variant?: 'primary' | 'secondary' | 'danger' | 'ghost';\n  size?: 'sm' | 'md' | 'lg';\n  icon?: LucideIcon;\n  iconPosition?: 'left' | 'right';\n  children: React.ReactNode;\n  onClick?: () => void;\n  disabled?: boolean;\n  type?: 'button' | 'submit' | 'reset';\n  className?: string;\n}\n\nexport const Button: React.FC<ButtonProps> = ({\n  variant = 'primary',\n  size = 'md',\n  icon: Icon,\n  iconPosition = 'left',\n  children,\n  onClick,\n  disabled = false,\n  type = 'button',\n  className = '',\n}) => {\n  const baseClasses = 'inline-flex items-center justify-center font-medium rounded-lg transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-900';\n  \n  const variantClasses = {\n    primary: 'bg-red-600 text-white hover:bg-red-700 focus:ring-red-500',\n    secondary: 'bg-gray-800 text-white hover:bg-gray-700 focus:ring-gray-600',\n    danger: 'bg-red-600 text-white hover:bg-red-700 focus:ring-red-500',\n    ghost: 'text-gray-300 hover:bg-gray-900 focus:ring-gray-700',\n  };\n  \n  const sizeClasses = {\n    sm: 'px-3 py-1.5 text-sm',\n    md: 'px-4 py-2 text-sm',\n    lg: 'px-6 py-3 text-base',\n  };\n  \n  const disabledClasses = disabled ? 'opacity-50 cursor-not-allowed' : '';\n  \n  return (\n    <button\n      type={type}\n      onClick={onClick}\n      disabled={disabled}\n      className={`${baseClasses} ${variantClasses[variant]} ${sizeClasses[size]} ${disabledClasses} ${className}`}\n    >\n      {Icon && iconPosition === 'left' && <Icon className=\"mr-2 h-4 w-4\" />}\n      {children}\n      {Icon && iconPosition === 'right' && <Icon className=\"ml-2 h-4 w-4\" />}\n    </button>\n  );\n};"],"names":[],"mappings":";;;;;AAeO,MAAM,SAAgC,CAAC,EAC5C,UAAU,SAAS,EACnB,OAAO,IAAI,EACX,MAAM,IAAI,EACV,eAAe,MAAM,EACrB,QAAQ,EACR,OAAO,EACP,WAAW,KAAK,EAChB,OAAO,QAAQ,EACf,YAAY,EAAE,EACf;IACC,MAAM,cAAc;IAEpB,MAAM,iBAAiB;QACrB,SAAS;QACT,WAAW;QACX,QAAQ;QACR,OAAO;IACT;IAEA,MAAM,cAAc;QAClB,IAAI;QACJ,IAAI;QACJ,IAAI;IACN;IAEA,MAAM,kBAAkB,WAAW,kCAAkC;IAErE,qBACE,6LAAC;QACC,MAAM;QACN,SAAS;QACT,UAAU;QACV,WAAW,GAAG,YAAY,CAAC,EAAE,cAAc,CAAC,QAAQ,CAAC,CAAC,EAAE,WAAW,CAAC,KAAK,CAAC,CAAC,EAAE,gBAAgB,CAAC,EAAE,WAAW;;YAE1G,QAAQ,iBAAiB,wBAAU,6LAAC;gBAAK,WAAU;;;;;;YACnD;YACA,QAAQ,iBAAiB,yBAAW,6LAAC;gBAAK,WAAU;;;;;;;;;;;;AAG3D;KAxCa","debugId":null}},
    {"offset": {"line": 406, "column": 0}, "map": {"version":3,"sources":["file:///Users/rawboy/Downloads/property-final--master/src/app/admin/components/layout/Header.tsx"],"sourcesContent":["import React from 'react';\nimport { Search, Bell, User, Menu, LogOut } from 'lucide-react';\nimport { Button } from '../common/Button';\nimport { useApp } from '../../context/AppContext';\n\ninterface HeaderProps {\n  onMenuToggle: () => void;\n}\n\nexport const Header: React.FC<HeaderProps> = ({ onMenuToggle }) => {\n  const { user, logout, setCurrentPage } = useApp();\n\n  return (\n    <header className=\"h-16 bg-black border-b border-gray-800 px-6 flex items-center justify-between\">\n      <div className=\"flex items-center space-x-4\">\n        <Button\n          variant=\"ghost\"\n          size=\"sm\"\n          icon={Menu}\n          onClick={onMenuToggle}\n          className=\"lg:hidden\"\n        >{''}</Button>\n        \n        {/* Search bar removed as per request */}\n      </div>\n\n      <div className=\"flex items-center space-x-4\">\n        {/* Removed Bell icon button */}\n        <Button \n          variant=\"ghost\" \n          size=\"sm\" \n          icon={LogOut} \n          onClick={logout}\n          className=\"text-gray-400 hover:text-red-400\"\n        >{''}</Button>\n        <div className=\"flex items-center space-x-3\">\n          <div className=\"w-8 h-8 bg-gray-700 rounded-full flex items-center justify-center\">\n            <User className=\"h-4 w-4 text-gray-300\" />\n          </div>\n          <div className=\"hidden md:block\">\n            <p className=\"text-sm font-medium text-white\">{user?.email || 'Admin'}</p>\n            <p className=\"text-xs text-gray-400\">Admin</p>\n          </div>\n        </div>\n      </div>\n    </header>\n  );\n};"],"names":[],"mappings":";;;;AACA;AAAA;AAAA;AACA;AACA;;;;;;AAMO,MAAM,SAAgC,CAAC,EAAE,YAAY,EAAE;;IAC5D,MAAM,EAAE,IAAI,EAAE,MAAM,EAAE,cAAc,EAAE,GAAG,CAAA,GAAA,gJAAA,CAAA,SAAM,AAAD;IAE9C,qBACE,6LAAC;QAAO,WAAU;;0BAChB,6LAAC;gBAAI,WAAU;0BACb,cAAA,6LAAC,yJAAA,CAAA,SAAM;oBACL,SAAQ;oBACR,MAAK;oBACL,MAAM,qMAAA,CAAA,OAAI;oBACV,SAAS;oBACT,WAAU;8BACV;;;;;;;;;;;0BAKJ,6LAAC;gBAAI,WAAU;;kCAEb,6LAAC,yJAAA,CAAA,SAAM;wBACL,SAAQ;wBACR,MAAK;wBACL,MAAM,6MAAA,CAAA,SAAM;wBACZ,SAAS;wBACT,WAAU;kCACV;;;;;;kCACF,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCAAI,WAAU;0CACb,cAAA,6LAAC,qMAAA,CAAA,OAAI;oCAAC,WAAU;;;;;;;;;;;0CAElB,6LAAC;gCAAI,WAAU;;kDACb,6LAAC;wCAAE,WAAU;kDAAkC,MAAM,SAAS;;;;;;kDAC9D,6LAAC;wCAAE,WAAU;kDAAwB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAMjD;GAtCa;;QAC8B,gJAAA,CAAA,SAAM;;;KADpC","debugId":null}},
    {"offset": {"line": 538, "column": 0}, "map": {"version":3,"sources":["file:///Users/rawboy/Downloads/property-final--master/src/app/admin/components/layout/Footer.tsx"],"sourcesContent":["import React from 'react';\nimport { Button } from '../common/Button';\nimport { Save, Eye, Upload } from 'lucide-react';\nimport { useRouter } from 'next/navigation';\n\nexport const Footer: React.FC = () => {\n  const router = useRouter();\n  return (\n    <footer className=\"h-16 bg-black border-t border-gray-800 px-6 flex items-center justify-end space-x-4\">\n      {/* Removed Save Draft and Publish buttons */}\n      <Button variant=\"ghost\" size=\"sm\" icon={Eye} onClick={() => router.push('/') }>\n        Preview\n      </Button>\n    </footer>\n  );\n};"],"names":[],"mappings":";;;;AACA;AACA;AACA;;;;;;AAEO,MAAM,SAAmB;;IAC9B,MAAM,SAAS,CAAA,GAAA,qIAAA,CAAA,YAAS,AAAD;IACvB,qBACE,6LAAC;QAAO,WAAU;kBAEhB,cAAA,6LAAC,yJAAA,CAAA,SAAM;YAAC,SAAQ;YAAQ,MAAK;YAAK,MAAM,mMAAA,CAAA,MAAG;YAAE,SAAS,IAAM,OAAO,IAAI,CAAC;sBAAO;;;;;;;;;;;AAKrF;GAVa;;QACI,qIAAA,CAAA,YAAS;;;KADb","debugId":null}},
    {"offset": {"line": 589, "column": 0}, "map": {"version":3,"sources":["file:///Users/rawboy/Downloads/property-final--master/src/app/admin/components/common/Toast.tsx"],"sourcesContent":["import React, { useEffect } from 'react';\nimport { CheckCircle, XCircle, Info, X } from 'lucide-react';\n\ninterface ToastProps {\n  message: string;\n  type: 'success' | 'error' | 'info';\n  onClose: () => void;\n}\n\nexport const Toast: React.FC<ToastProps> = ({ message, type, onClose }) => {\n  useEffect(() => {\n    const timer = setTimeout(() => {\n      onClose();\n    }, 3000);\n\n    return () => clearTimeout(timer);\n  }, [onClose]);\n\n  const icons = {\n    success: CheckCircle,\n    error: XCircle,\n    info: Info,\n  };\n\n  const colors = {\n    success: 'bg-green-950 border-green-800 text-green-200',\n    error: 'bg-red-950 border-red-800 text-red-200',\n    info: 'bg-blue-950 border-blue-800 text-blue-200',\n  };\n\n  const Icon = icons[type];\n\n  return (\n    <div className={`fixed top-4 right-4 z-50 p-4 rounded-lg border flex items-center space-x-3 min-w-80 ${colors[type]}`}>\n      <Icon className=\"h-5 w-5 flex-shrink-0\" />\n      <p className=\"flex-1 text-sm\">{message}</p>\n      <button\n        onClick={onClose}\n        className=\"text-gray-400 hover:text-white transition-colors\"\n      >\n        <X className=\"h-4 w-4\" />\n      </button>\n    </div>\n  );\n};"],"names":[],"mappings":";;;;AAAA;AACA;AAAA;AAAA;AAAA;;;;;AAQO,MAAM,QAA8B,CAAC,EAAE,OAAO,EAAE,IAAI,EAAE,OAAO,EAAE;;IACpE,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;2BAAE;YACR,MAAM,QAAQ;yCAAW;oBACvB;gBACF;wCAAG;YAEH;mCAAO,IAAM,aAAa;;QAC5B;0BAAG;QAAC;KAAQ;IAEZ,MAAM,QAAQ;QACZ,SAAS,8NAAA,CAAA,cAAW;QACpB,OAAO,+MAAA,CAAA,UAAO;QACd,MAAM,qMAAA,CAAA,OAAI;IACZ;IAEA,MAAM,SAAS;QACb,SAAS;QACT,OAAO;QACP,MAAM;IACR;IAEA,MAAM,OAAO,KAAK,CAAC,KAAK;IAExB,qBACE,6LAAC;QAAI,WAAW,CAAC,oFAAoF,EAAE,MAAM,CAAC,KAAK,EAAE;;0BACnH,6LAAC;gBAAK,WAAU;;;;;;0BAChB,6LAAC;gBAAE,WAAU;0BAAkB;;;;;;0BAC/B,6LAAC;gBACC,SAAS;gBACT,WAAU;0BAEV,cAAA,6LAAC,+LAAA,CAAA,IAAC;oBAAC,WAAU;;;;;;;;;;;;;;;;;AAIrB;GAnCa;KAAA","debugId":null}},
    {"offset": {"line": 682, "column": 0}, "map": {"version":3,"sources":["file:///Users/rawboy/Downloads/property-final--master/src/app/admin/components/common/Card.tsx"],"sourcesContent":["import React from 'react';\n\ninterface CardProps {\n  children: React.ReactNode;\n  className?: string;\n  padding?: 'sm' | 'md' | 'lg';\n}\n\nexport const Card: React.FC<CardProps> = ({ children, className = '', padding = 'md' }) => {\n  const paddingClasses = {\n    sm: 'p-4',\n    md: 'p-6',\n    lg: 'p-8',\n  };\n\n  return (\n    <div className={`bg-black border border-gray-800 rounded-lg ${paddingClasses[padding]} ${className}`}>\n      {children}\n    </div>\n  );\n};"],"names":[],"mappings":";;;;;AAQO,MAAM,OAA4B,CAAC,EAAE,QAAQ,EAAE,YAAY,EAAE,EAAE,UAAU,IAAI,EAAE;IACpF,MAAM,iBAAiB;QACrB,IAAI;QACJ,IAAI;QACJ,IAAI;IACN;IAEA,qBACE,6LAAC;QAAI,WAAW,CAAC,2CAA2C,EAAE,cAAc,CAAC,QAAQ,CAAC,CAAC,EAAE,WAAW;kBACjG;;;;;;AAGP;KAZa","debugId":null}},
    {"offset": {"line": 714, "column": 0}, "map": {"version":3,"sources":["file:///Users/rawboy/Downloads/property-final--master/src/app/admin/components/common/Badge.tsx"],"sourcesContent":["import React from 'react';\n\ninterface BadgeProps {\n  variant: 'success' | 'warning' | 'error' | 'info';\n  children: React.ReactNode;\n  size?: 'sm' | 'md';\n}\n\nexport const Badge: React.FC<BadgeProps> = ({ variant, children, size = 'md' }) => {\n  const baseClasses = 'inline-flex items-center font-medium rounded-full';\n  \n  const variantClasses = {\n    success: 'bg-green-950 text-green-200 border border-green-800',\n    warning: 'bg-yellow-950 text-yellow-200 border border-yellow-800',\n    error: 'bg-red-950 text-red-200 border border-red-800',\n    info: 'bg-blue-950 text-blue-200 border border-blue-800',\n  };\n  \n  const sizeClasses = {\n    sm: 'px-2 py-0.5 text-xs',\n    md: 'px-2.5 py-1 text-sm',\n  };\n  \n  return (\n    <span className={`${baseClasses} ${variantClasses[variant]} ${sizeClasses[size]}`}>\n      {children}\n    </span>\n  );\n};"],"names":[],"mappings":";;;;;AAQO,MAAM,QAA8B,CAAC,EAAE,OAAO,EAAE,QAAQ,EAAE,OAAO,IAAI,EAAE;IAC5E,MAAM,cAAc;IAEpB,MAAM,iBAAiB;QACrB,SAAS;QACT,SAAS;QACT,OAAO;QACP,MAAM;IACR;IAEA,MAAM,cAAc;QAClB,IAAI;QACJ,IAAI;IACN;IAEA,qBACE,6LAAC;QAAK,WAAW,GAAG,YAAY,CAAC,EAAE,cAAc,CAAC,QAAQ,CAAC,CAAC,EAAE,WAAW,CAAC,KAAK,EAAE;kBAC9E;;;;;;AAGP;KApBa","debugId":null}},
    {"offset": {"line": 752, "column": 0}, "map": {"version":3,"sources":["file:///Users/rawboy/Downloads/property-final--master/src/app/admin/components/pages/Dashboard.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { TrendingUp, Building, Eye, ArrowUp, ArrowDown } from 'lucide-react';\nimport { Card } from '../../components/common/Card';\nimport { Badge } from '../../components/common/Badge';\nimport { Button } from '../../components/common/Button';\nimport { useApp } from '../../context/AppContext';\nimport { Property } from '../../types';\n\nexport const Dashboard: React.FC = () => {\n  const [propertyCategories, setPropertyCategories] = useState<{ value: string; label: string }[]>([]);\n\n  // Fetch property categories for dynamic Property Distribution\n  useEffect(() => {\n    fetch('/api/property-categories')\n      .then(res => res.json())\n      .then(data => {\n        if (data.success) {\n          setPropertyCategories(data.categories.map((cat: any) => ({ value: cat.name, label: cat.name })));\n        }\n      });\n  }, []);\n  const { setCurrentPage, setSelectedProperty } = useApp();\n  const [properties, setProperties] = useState<Property[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [stats, setStats] = useState({\n    totalProperties: 0,\n    monthlyViews: 0,\n    revenue: 0,\n    featuredProperties: 0,\n  });\n\n  useEffect(() => {\n    const fetchDashboardData = async () => {\n      try {\n        setLoading(true);\n        const response = await fetch('/api/properties');\n        const data = await response.json();\n        \n        if (data.success) {\n          const fetchedProperties = data.properties;\n          setProperties(fetchedProperties);\n          \n          // Calculate stats\n          const totalProperties = fetchedProperties.length;\n          const featuredProperties = fetchedProperties.filter((p: Property) => p.featured).length;\n          \n          // Calculate revenue (sum of all price ranges - simplified calculation)\n          const revenue = fetchedProperties.reduce((total: number, property: Property) => {\n            const priceStr = formatPriceRange(property.priceRange);\n            if (typeof priceStr === 'string') {\n              const numbers = priceStr.match(/[\\d.]+/g);\n              if (numbers && numbers.length > 0) {\n                const avgPrice = parseFloat(numbers[0]);\n                return total + (avgPrice || 0);\n              }\n            }\n            return total;\n          }, 0);\n          \n          // Calculate monthly views (simulated based on trending score)\n          const monthlyViews = fetchedProperties.reduce((total: number, property: Property) => {\n            return total + ((property.trendingScore || 1) * 1000);\n          }, 0);\n          \n          setStats({\n            totalProperties,\n            monthlyViews,\n            revenue,\n            featuredProperties,\n          });\n        }\n      } catch (error) {\n        console.error('Error fetching dashboard data:', error);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchDashboardData();\n  }, []);\n\n  function formatPriceRange(priceRange: any): string {\n    if (!priceRange || typeof priceRange === 'string') return priceRange || '';\n    const from = priceRange.from?.value ? `${priceRange.from.value} ${priceRange.from.unit}` : '';\n    const to = priceRange.to?.value ? `${priceRange.to.value} ${priceRange.to.unit}` : '';\n    if (from && to) return `${from} to ${to}`;\n    return from || to || '';\n  }\n\n  const dashboardStats = [\n    {\n      title: 'Total Properties',\n      value: stats.totalProperties.toString(),\n      change: '+12%',\n      trend: 'up' as const,\n      icon: Building,\n      color: 'text-blue-500',\n    },\n    // Most Common Property Type\n    (() => {\n      const typeCounts: Record<string, number> = {};\n      properties.forEach(p => {\n        if (p.propertyType) typeCounts[p.propertyType] = (typeCounts[p.propertyType] || 0) + 1;\n      });\n      const mostCommonType = Object.entries(typeCounts).sort((a, b) => b[1] - a[1])[0]?.[0] || 'N/A';\n      return {\n        title: 'Most Common Property Type',\n        value: mostCommonType,\n        change: '',\n        trend: 'up' as const,\n        icon: TrendingUp,\n        color: 'text-red-500',\n      };\n    })(),\n    {\n      title: 'Featured Properties',\n      value: stats.featuredProperties.toString(),\n      change: '+5%',\n      trend: 'up' as const,\n      icon: Building,\n      color: 'text-green-500',\n    },\n  ];\n\n  const recentProperties = properties\n    .sort((a, b) => new Date(b.createdAt || '').getTime() - new Date(a.createdAt || '').getTime())\n    .slice(0, 5)\n    .map((property) => ({\n      id: property._id || '',\n      name: property.name,\n      type: property.propertyType,\n      status: property.status,\n      price: formatPriceRange(property.priceRange),\n      featured: property.featured,\n    }));\n \n  const handleAddNewProperty = () => {\n    setSelectedProperty(null);\n    setCurrentPage('property-form');\n  };\n\n  const handleViewAllProperties = () => {\n    setCurrentPage('properties');\n  };\n\n  if (loading) {\n    return (\n      <div className=\"p-8\">\n        <div className=\"mb-8\">\n          <h1 className=\"text-2xl font-bold text-white mb-2\">Dashboard</h1>\n          <p className=\"text-gray-400\">Loading dashboard data...</p>\n        </div>\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8\">\n          {[1, 2, 3, 4].map((i) => (\n            <Card key={i} className=\"animate-pulse\">\n              <div className=\"h-24 bg-gray-700 rounded\"></div>\n            </Card>\n          ))}\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"p-8\">\n      <div className=\"mb-8\">\n        <h1 className=\"text-2xl font-bold text-white mb-2\">Dashboard</h1>\n        <p className=\"text-gray-400\">Welcome back! Here's what's happening with your properties.</p>\n      </div>\n\n      {/* Stats Grid */}\n      <div className=\"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-8 mb-10\">\n        {dashboardStats.map((stat, index) => {\n          const Icon = stat.icon;\n          return (\n            <Card key={index} className=\"relative overflow-hidden flex flex-col justify-between h-full min-h-[170px] p-6\">\n              <div className=\"flex items-center justify-between mb-4\">\n                <div>\n                  <p className=\"text-sm text-gray-400 mb-1\">{stat.title}</p>\n                  <p className=\"text-3xl font-extrabold text-white leading-tight\">{stat.value}</p>\n                </div>\n                <div className={`p-3 rounded-full bg-gray-800 ${stat.color}`}>\n                  <Icon className=\"h-7 w-7\" />\n                </div>\n              </div>\n              {/* <div className=\"flex items-center mt-2\"> */}\n                {/* {stat.trend === 'up' ? (\n                  <ArrowUp className=\"h-4 w-4 text-green-500 mr-1\" />\n                ) : (\n                  <ArrowDown className=\"h-4 w-4 text-red-500 mr-1\" />\n                )}\n                <span className={`text-sm ${stat.trend === 'up' ? 'text-green-500' : 'text-red-500'}`}>\n                  {stat.change}\n                </span> */}\n                {/* <span className=\"text-sm text-gray-400 ml-1\">from last month</span> */}\n              {/* </div> */}\n            </Card>\n          );\n        })}\n      </div>\n\n      <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-8\">\n        {/* Recent Properties */}\n        <Card className=\"lg:col-span-2\">\n          <div className=\"flex items-center justify-between mb-6\">\n            <h2 className=\"text-lg font-semibold text-white\">Recent Properties</h2>\n            <Button variant=\"ghost\" size=\"sm\" onClick={handleViewAllProperties}>\n              View All\n            </Button>\n          </div>\n          <div className=\"space-y-4\">\n            {recentProperties.length === 0 ? (\n              <div className=\"text-center py-8\">\n                <p className=\"text-gray-400\">No properties found. Add your first property to get started!</p>\n              </div>\n            ) : (\n              recentProperties.map((property) => (\n              <div key={property.id} className=\"flex items-center justify-between p-4 bg-gray-800 rounded-lg\">\n                <div className=\"flex-1\">\n                  <h3 className=\"font-medium text-white mb-1\">{property.name}</h3>\n                  <div className=\"flex items-center space-x-4\">\n                    <Badge variant=\"info\" size=\"sm\">\n                      {property.type}\n                    </Badge>\n                    <Badge\n                      variant={property.status === 'Ready' ? 'success' : 'warning'}\n                      size=\"sm\"\n                    >\n                      {property.status}\n                    </Badge>\n                      {property.featured && (\n                        <Badge variant=\"success\" size=\"sm\">\n                          Featured\n                        </Badge>\n                      )}\n                  </div>\n                </div>\n                <div className=\"text-right\">\n                  <p className=\"font-medium text-white\">{property.price}</p>\n                </div>\n                </div>\n              ))\n            )}\n          </div>\n        </Card>\n\n        {/* Quick Actions */}\n        <Card>\n          <h2 className=\"text-lg font-semibold text-white mb-6\">Quick Actions</h2>\n          <div className=\"space-y-3\">\n            <Button variant=\"primary\" className=\"w-full justify-start\" onClick={handleAddNewProperty}>\n              <Building className=\"h-4 w-4 mr-2\" />\n              Add New Property\n            </Button>\n            <Button variant=\"secondary\" className=\"w-full justify-start\" onClick={handleViewAllProperties}>\n              <Eye className=\"h-4 w-4 mr-2\" />\n              View All Properties\n            </Button>\n          </div>\n          \n          {/* Additional Stats */}\n            <div className=\"mt-6 pt-6 border-t border-gray-700\">\n              <h3 className=\"text-sm font-medium text-gray-300 mb-3\">Property Distribution</h3>\n              <div className=\"space-y-2\">\n                {propertyCategories.map((cat) => {\n                  const count = properties.filter(p => p.propertyType === cat.value).length;\n                  const percentage = properties.length > 0 ? ((count / properties.length) * 100).toFixed(1) : '0';\n                  return (\n                    <div key={cat.value} className=\"flex justify-between items-center\">\n                      <span className=\"text-sm text-gray-400\">{cat.label}</span>\n                      <span className=\"text-sm text-white\">{count} ({percentage}%)</span>\n                    </div>\n                  );\n                })}\n              </div>\n            </div>\n        </Card>\n      </div>\n    </div>\n  );\n};"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1354, "column": 0}, "map": {"version":3,"sources":["file:///Users/rawboy/Downloads/property-final--master/src/app/admin/components/common/Select.tsx"],"sourcesContent":["import React from 'react';\n\ninterface Option {\n  value: string;\n  label: string;\n}\n\ninterface SelectProps {\n  label?: string;\n  options: Option[];\n  value: string;\n  onChange: (value: string) => void;\n  placeholder?: string;\n  required?: boolean;\n  disabled?: boolean;\n  className?: string;\n}\n\nexport const Select: React.FC<SelectProps> = ({\n  label,\n  options,\n  value,\n  onChange,\n  placeholder,\n  required = false,\n  disabled = false,\n  className = '',\n}) => {\n  return (\n    <div className={`${className}`}>\n      {label && (\n        <label className=\"block text-sm font-medium text-gray-300 mb-2\">\n          {label}\n          {required && <span className=\"text-red-500 ml-1\">*</span>}\n        </label>\n      )}\n      <select\n        value={value}\n        onChange={(e) => onChange(e.target.value)}\n        required={required}\n        disabled={disabled}\n        className={`w-full px-3 py-2 bg-black border border-gray-800 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent transition-all duration-200 ${\n          disabled ? 'opacity-50 cursor-not-allowed' : ''\n        }`}\n      >\n        {placeholder && <option value=\"\" className=\"text-gray-500\">{placeholder}</option>}\n        {options.map((option, idx) => (\n          <option \n            key={option.value !== '' ? option.value : `empty-${idx}`} \n            value={option.value}\n            className=\"bg-black text-white\"\n          >\n            {option.label}\n          </option>\n        ))}\n      </select>\n    </div>\n  );\n};"],"names":[],"mappings":";;;;;AAkBO,MAAM,SAAgC,CAAC,EAC5C,KAAK,EACL,OAAO,EACP,KAAK,EACL,QAAQ,EACR,WAAW,EACX,WAAW,KAAK,EAChB,WAAW,KAAK,EAChB,YAAY,EAAE,EACf;IACC,qBACE,6LAAC;QAAI,WAAW,GAAG,WAAW;;YAC3B,uBACC,6LAAC;gBAAM,WAAU;;oBACd;oBACA,0BAAY,6LAAC;wBAAK,WAAU;kCAAoB;;;;;;;;;;;;0BAGrD,6LAAC;gBACC,OAAO;gBACP,UAAU,CAAC,IAAM,SAAS,EAAE,MAAM,CAAC,KAAK;gBACxC,UAAU;gBACV,UAAU;gBACV,WAAW,CAAC,+KAA+K,EACzL,WAAW,kCAAkC,IAC7C;;oBAED,6BAAe,6LAAC;wBAAO,OAAM;wBAAG,WAAU;kCAAiB;;;;;;oBAC3D,QAAQ,GAAG,CAAC,CAAC,QAAQ,oBACpB,6LAAC;4BAEC,OAAO,OAAO,KAAK;4BACnB,WAAU;sCAET,OAAO,KAAK;2BAJR,OAAO,KAAK,KAAK,KAAK,OAAO,KAAK,GAAG,CAAC,MAAM,EAAE,KAAK;;;;;;;;;;;;;;;;;AAUpE;KAxCa","debugId":null}},
    {"offset": {"line": 1431, "column": 0}, "map": {"version":3,"sources":["file:///Users/rawboy/Downloads/property-final--master/src/app/admin/components/common/Input.tsx"],"sourcesContent":["import React from 'react';\n\ninterface InputProps {\n  label?: string;\n  type?: 'text' | 'email' | 'password' | 'number' | 'tel' | 'url' | 'search' | 'date';\n  placeholder?: string;\n  value: string;\n  onChange: (value: string) => void;\n  required?: boolean;\n  disabled?: boolean;\n  helperText?: string;\n  error?: string;\n  className?: string;\n}\n\nexport const Input: React.FC<InputProps> = ({\n  label,\n  type = 'text',\n  placeholder,\n  value,\n  onChange,\n  required = false,\n  disabled = false,\n  helperText,\n  error,\n  className = '',\n}) => {\n  return (\n    <div className={`${className}`}>\n      {label && (\n        <label className=\"block text-sm font-medium text-gray-300 mb-2\">\n          {label}\n          {required && <span className=\"text-red-500 ml-1\">*</span>}\n        </label>\n      )}\n      <input\n        type={type}\n        placeholder={placeholder}\n        value={value}\n        onChange={(e) => onChange(e.target.value)}\n        required={required}\n        disabled={disabled}\n        className={`w-full px-3 py-2 bg-black border border-gray-800 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent transition-all duration-200 ${\n          disabled ? 'opacity-50 cursor-not-allowed' : ''\n        } ${error ? 'border-red-500' : ''}`}\n      />\n      {error && <p className=\"mt-1 text-sm text-red-500\">{error}</p>}\n      {helperText && !error && <p className=\"mt-1 text-sm text-gray-400\">{helperText}</p>}\n    </div>\n  );\n};"],"names":[],"mappings":";;;;;AAeO,MAAM,QAA8B,CAAC,EAC1C,KAAK,EACL,OAAO,MAAM,EACb,WAAW,EACX,KAAK,EACL,QAAQ,EACR,WAAW,KAAK,EAChB,WAAW,KAAK,EAChB,UAAU,EACV,KAAK,EACL,YAAY,EAAE,EACf;IACC,qBACE,6LAAC;QAAI,WAAW,GAAG,WAAW;;YAC3B,uBACC,6LAAC;gBAAM,WAAU;;oBACd;oBACA,0BAAY,6LAAC;wBAAK,WAAU;kCAAoB;;;;;;;;;;;;0BAGrD,6LAAC;gBACC,MAAM;gBACN,aAAa;gBACb,OAAO;gBACP,UAAU,CAAC,IAAM,SAAS,EAAE,MAAM,CAAC,KAAK;gBACxC,UAAU;gBACV,UAAU;gBACV,WAAW,CAAC,oMAAoM,EAC9M,WAAW,kCAAkC,GAC9C,CAAC,EAAE,QAAQ,mBAAmB,IAAI;;;;;;YAEpC,uBAAS,6LAAC;gBAAE,WAAU;0BAA6B;;;;;;YACnD,cAAc,CAAC,uBAAS,6LAAC;gBAAE,WAAU;0BAA8B;;;;;;;;;;;;AAG1E;KAnCa","debugId":null}},
    {"offset": {"line": 1506, "column": 0}, "map": {"version":3,"sources":["file:///Users/rawboy/Downloads/property-final--master/src/app/admin/components/pages/Properties.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { Plus, Edit, Trash2, Eye, Filter, Grid, List } from 'lucide-react';\nimport { Card } from '../../components/common/Card';\nimport { Button } from '../../components/common/Button';\nimport { Badge } from '../../components/common/Badge';\nimport { Select } from '../../components/common/Select';\nimport { Input } from '../../components/common/Input';\nimport { useApp } from '../../context/AppContext';\nimport { Property } from '../../types';\n\nfunction formatPriceRange(priceRange: any): string {\n  if (!priceRange || typeof priceRange === 'string') return priceRange || '';\n  const from = priceRange.from?.value ? `${priceRange.from.value} ${priceRange.from.unit}` : '';\n  const to = priceRange.to?.value ? `${priceRange.to.value} ${priceRange.to.unit}` : '';\n  if (from && to) return `${from} to ${to}`;\n  return from || to || '';\n}\n\nexport const Properties: React.FC = () => {\n  const { setCurrentPage, showToast, setSelectedProperty } = useApp();\n  const [properties, setProperties] = useState<Property[]>([]);\n  const [viewMode, setViewMode] = useState<'grid' | 'list'>('grid');\n  const [searchTerm, setSearchTerm] = useState('');\n  const [filterType, setFilterType] = useState('');\n  const [filterStatus, setFilterStatus] = useState('');\n  const [loading, setLoading] = useState(false);\n\n  useEffect(() => {\n    setLoading(true);\n    fetch('/api/properties')\n      .then(res => res.json())\n      .then(data => {\n        if (data.success) setProperties(data.properties);\n        setLoading(false);\n      })\n      .catch(() => setLoading(false));\n  }, []);\n\n  const filteredProperties = properties.filter(property => {\n    const matchesSearch = property.name.toLowerCase().includes(searchTerm.toLowerCase()) ||\n      property.tagline.toLowerCase().includes(searchTerm.toLowerCase());\n    const matchesType = !filterType || property.propertyType === filterType;\n    const matchesStatus = !filterStatus || property.status === filterStatus;\n    return matchesSearch && matchesType && matchesStatus;\n  });\n\n  const handleEdit = (id?: string) => {\n    const property = properties.find(p => p._id === id);\n    setSelectedProperty(property || null);\n    setCurrentPage('property-form');\n    showToast('Opening property editor...', 'info');\n  };\n\n  const handleDelete = async (id?: string) => {\n    if (!id) return;\n    setLoading(true);\n    try {\n      const res = await fetch('/api/properties', {\n        method: 'DELETE',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ _id: id }),\n      });\n      const data = await res.json();\n      if (data.success) {\n        setProperties(props => props.filter(p => p._id !== id));\n        showToast('Property deleted successfully', 'success');\n      } else {\n        showToast(data.message || 'Failed to delete property', 'error');\n      }\n    } catch {\n      showToast('Failed to delete property', 'error');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const [propertyTypeOptions, setPropertyTypeOptions] = useState<{ value: string; label: string }[]>([{ value: '', label: 'All Types' }]);\n  useEffect(() => {\n    fetch('/api/property-categories')\n      .then(res => res.json())\n      .then(data => {\n        if (data.success && Array.isArray(data.categories)) {\n          setPropertyTypeOptions([{ value: '', label: 'All Types' }, ...data.categories.map((cat: { name: string }) => ({ value: cat.name.trim(), label: cat.name.trim() }))]);\n        }\n      });\n  }, []);\n\n  const statusOptions = [\n    { value: '', label: 'All Status' },\n    { value: 'Ready', label: 'Ready' },\n    { value: 'Under Construction', label: 'Under Construction' },\n    { value: 'Upcoming', label: 'Upcoming' },\n  ];\n\n  return (\n    <div className=\"p-8\">\n      <div className=\"flex items-center justify-between mb-8\">\n        <div>\n          <h1 className=\"text-2xl font-bold text-white mb-2\">Properties</h1>\n          <p className=\"text-gray-400\">Manage your real estate properties</p>\n        </div>\n        <Button\n          variant=\"primary\"\n          icon={Plus}\n          onClick={() => { setSelectedProperty(null); setCurrentPage('property-form'); }}\n        >\n          Add Property\n        </Button>\n      </div>\n      <Card className=\"mb-6\">\n        <div className=\"flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-4 lg:space-y-0\">\n          <div className=\"flex flex-col sm:flex-row space-y-4 sm:space-y-0 sm:space-x-4 flex-1\">\n            <Input\n              placeholder=\"Search properties...\"\n              value={searchTerm}\n              onChange={setSearchTerm}\n              className=\"flex-1\"\n            />\n            <Select\n              options={propertyTypeOptions}\n              value={filterType}\n              onChange={setFilterType}\n              placeholder=\"Filter by type\"\n            />\n            <Select\n              options={statusOptions}\n              value={filterStatus}\n              onChange={setFilterStatus}\n              placeholder=\"Filter by status\"\n            />\n          </div>\n          {/* Removed grid/list view toggle buttons */}\n        </div>\n      </Card>\n      <Card>\n        {loading ? (\n          <div className=\"text-center py-8 text-gray-400\">Loading...</div>\n        ) : filteredProperties.length === 0 ? (\n          <div className=\"text-center py-8 text-gray-400\">No properties found.</div>\n        ) : (\n          <div className=\"overflow-x-auto\">\n            <table className=\"w-full\">\n              <thead>\n                <tr className=\"border-b border-gray-800\">\n                  <th className=\"text-left py-3 px-4 text-gray-300 font-medium\">Property</th>\n                  <th className=\"text-left py-3 px-4 text-gray-300 font-medium\">Type</th>\n                  <th className=\"text-left py-3 px-4 text-gray-300 font-medium\">Status</th>\n                  <th className=\"text-left py-3 px-4 text-gray-300 font-medium\">Price Range</th>\n                  <th className=\"text-left py-3 px-4 text-gray-300 font-medium\">Actions</th>\n                </tr>\n              </thead>\n              <tbody>\n                {filteredProperties.map((property) => (\n                  <tr key={property._id} className=\"border-b border-gray-800 hover:bg-gray-800 transition-colors\">\n                    <td className=\"py-4 px-4\">\n                      <div className=\"flex items-center space-x-3\">\n                        {property.gallery && (property.gallery[0]?.data || property.gallery[0]?.url) ? (\n                          <img\n                            src={property.gallery[0]?.data || property.gallery[0]?.url}\n                            alt={property.gallery[0]?.name || property.name}\n                            className=\"w-12 h-12 object-cover rounded-lg\"\n                          />\n                        ) : (\n                          <div className=\"w-12 h-12 bg-gray-700 rounded-lg\" />\n                        )}\n                        <div>\n                          <p className=\"font-medium text-white\">{property.name}</p>\n                          <p className=\"text-sm text-gray-400\">{property.tagline}</p>\n                        </div>\n                      </div>\n                    </td>\n                    <td className=\"py-4 px-4\">\n                      <Badge variant=\"info\" size=\"sm\">\n                        {property.propertyType}\n                      </Badge>\n                    </td>\n                    <td className=\"py-4 px-4 text-white\">{property.status}</td>\n                    <td className=\"py-4 px-4 text-white\">{formatPriceRange(property.priceRange)}</td>\n                    <td className=\"py-4 px-4\">\n                      <Button variant=\"ghost\" size=\"sm\" icon={Edit} onClick={() => handleEdit(property._id)}>{''}</Button>\n                      <Button variant=\"ghost\" size=\"sm\" icon={Trash2} onClick={() => handleDelete(property._id)}>{''}</Button>\n                    </td>\n                  </tr>\n                ))}\n              </tbody>\n            </table>\n          </div>\n        )}\n      </Card>\n    </div>\n  );\n};"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1997, "column": 0}, "map": {"version":3,"sources":["file:///Users/rawboy/Downloads/property-final--master/src/app/admin/components/pages/Login.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { Building, Mail, Lock, Eye, EyeOff } from 'lucide-react';\nimport { Card } from '../../components/common/Card';\nimport { Button } from '../../components/common/Button';\nimport { Input } from '../../components/common/Input';\n\ninterface LoginProps {\n  onLogin: (email: string, password: string) => void;\n}\n\nexport const Login: React.FC<LoginProps> = ({ onLogin }) => {\n  const [formData, setFormData] = useState({\n    email: '',\n    password: '',\n  });\n  const [showPassword, setShowPassword] = useState(false);\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState('');\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setError('');\n    setIsLoading(true);\n\n    // Basic validation\n    if (!formData.email || !formData.password) {\n      setError('Please fill in all fields');\n      setIsLoading(false);\n      return;\n    }\n\n    if (!formData.email.includes('@')) {\n      setError('Please enter a valid email address');\n      setIsLoading(false);\n      return;\n    }\n\n    try {\n      // Simulate API call delay\n      await new Promise(resolve => setTimeout(resolve, 1000));\n      \n      // For demo purposes, accept any email/password combination\n      // In production, this would make an actual API call\n      onLogin(formData.email, formData.password);\n    } catch (err) {\n      setError('Login failed. Please try again.');\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gray-900 flex items-center justify-center p-4\">\n      <div className=\"w-full max-w-md\">\n        {/* Logo and Title */}\n        <div className=\"text-center mb-8\">\n          <div className=\"inline-flex items-center justify-center w-16 h-16 bg-red-600 rounded-xl mb-4\">\n            <Building className=\"h-8 w-8 text-white\" />\n          </div>\n          <h1 className=\"text-2xl font-bold text-white mb-2\">Real Estate CMS</h1>\n          <p className=\"text-gray-400\">Admin Panel Login</p>\n        </div>\n\n        {/* Login Form */}\n        <Card>\n          <form onSubmit={handleSubmit} className=\"space-y-6\">\n            <div>\n              <h2 className=\"text-xl font-semibold text-white mb-6 text-center\">\n                Sign in to your account\n              </h2>\n            </div>\n\n            {error && (\n              <div className=\"bg-red-900 border border-red-700 text-red-200 px-4 py-3 rounded-lg text-sm\">\n                {error}\n              </div>\n            )}\n\n            <div className=\"space-y-4\">\n              <div className=\"relative\">\n                <Mail className=\"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400\" />\n                <input\n                  type=\"email\"\n                  placeholder=\"Enter your email address\"\n                  value={formData.email}\n                  onChange={(e) => setFormData(prev => ({ ...prev, email: e.target.value }))}\n                  className=\"w-full pl-10 pr-4 py-3 bg-gray-800 border border-gray-700 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent transition-all duration-200\"\n                  required\n                />\n              </div>\n\n              <div className=\"relative\">\n                <Lock className=\"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400\" />\n                <input\n                  type={showPassword ? 'text' : 'password'}\n                  placeholder=\"Enter your password\"\n                  value={formData.password}\n                  onChange={(e) => setFormData(prev => ({ ...prev, password: e.target.value }))}\n                  className=\"w-full pl-10 pr-12 py-3 bg-gray-800 border border-gray-700 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent transition-all duration-200\"\n                  required\n                />\n                <button\n                  type=\"button\"\n                  onClick={() => setShowPassword(!showPassword)}\n                  className=\"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-white transition-colors\"\n                >\n                  {showPassword ? (\n                    <EyeOff className=\"h-4 w-4\" />\n                  ) : (\n                    <Eye className=\"h-4 w-4\" />\n                  )}\n                </button>\n              </div>\n            </div>\n\n            <Button\n              type=\"submit\"\n              variant=\"primary\"\n              disabled={isLoading}\n              className=\"w-full py-3 text-base font-medium\"\n            >\n              {isLoading ? (\n                <div className=\"flex items-center justify-center\">\n                  <div className=\"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2\"></div>\n                  Signing in...\n                </div>\n              ) : (\n                'Sign In'\n              )}\n            </Button>\n\n            <div className=\"text-center\">\n              <p className=\"text-sm text-gray-400\">\n                Secure admin access only\n              </p>\n            </div>\n          </form>\n        </Card>\n\n        {/* Footer */}\n        <div className=\"text-center mt-8\">\n          <p className=\"text-xs text-gray-500\">\n            © 2024 Real Estate CMS. All rights reserved.\n          </p>\n        </div>\n      </div>\n    </div>\n  );\n};"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 2308, "column": 0}, "map": {"version":3,"sources":["file:///Users/rawboy/Downloads/property-final--master/src/app/admin/components/pages/PropertyForm.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { ArrowLeft, Plus, X } from 'lucide-react';\nimport { Card } from '../../components/common/Card';\nimport { Button } from '../../components/common/Button';\nimport { Input } from '../../components/common/Input';\nimport { Select } from '../../components/common/Select';\nimport { useApp } from '../../context/AppContext';\nimport { Property, GalleryItem, VideoItem } from '../../types';\n\nfunction makePriceRange(from: string, to: string, unit: any): { from: string; to: string; unit: 'Lac' | 'Cr' } {\n  let safeUnit: 'Lac' | 'Cr' = 'Lac';\n  if (unit === 'Cr') safeUnit = 'Cr';\n  return { from, to, unit: safeUnit };\n}\n\nconst defaultForm: Property = {\n  name: '',\n  tagline: '',\n  propertyType: '',\n  location: '',\n  priceRange: { from: { value: '', unit: 'Lac' }, to: { value: '', unit: 'Lac' } },\n  builder: { developerName: '', websiteUrl: '' },\n  keyHighlights: {\n    reraApproved: false,\n    possessionDate: '',\n    unitConfiguration: '',\n    carpetArea: { from: '', to: '', unit: 'sqft' },\n    otherAmenities: [''],\n    igbcGoldCertified: false,\n  },\n  gallery: [{ url: '', name: '', data: '' }],\n  videos: [{ url: '', name: '' }],\n  locationAdvantage: { address: '', addressUrl: '', advantages: [''] },\n  featuredDevelopment: { text: '', images: [{ url: '', name: '', data: '' }] },\n  otherProjects: [''],\n  trendingScore: undefined,\n  featured: false,\n  home: false,\n  status: '',\n};\n\nexport const PropertyForm: React.FC = () => {\n  const { setCurrentPage, showToast, selectedProperty, setSelectedProperty } = useApp();\n  const [formData, setFormData] = useState<Property>(selectedProperty || defaultForm);\n  // Helper to check for duplicate trendingScore\n  const isTrendingScoreDuplicate = (score: number | '') => {\n    if (score === '' || score === undefined) return false;\n    return allProperties.some(\n      (p) => p._id !== formData._id && p.trendingScore === score\n    );\n  };\n  const [loading, setLoading] = useState(false);\n  const [allProperties, setAllProperties] = useState<Property[]>([]);\n  const [propertyCategories, setPropertyCategories] = useState<{ value: string; label: string }[]>([]);\n\n  // Fetch all properties for the dropdown\n  useEffect(() => {\n    const fetchProperties = async () => {\n      try {\n        const response = await fetch('/api/properties');\n        const data = await response.json();\n        if (data.success) {\n          setAllProperties(data.properties);\n        }\n      } catch (error) {\n        console.error('Error fetching properties:', error);\n      }\n    };\n    fetchProperties();\n  }, []);\n\n  // Fetch property categories\n  useEffect(() => {\n    fetch('/api/property-categories')\n      .then(res => res.json())\n      .then(data => {\n        if (data.success) {\n          setPropertyCategories(data.categories.map((cat: any) => ({ value: cat.name, label: cat.name })));\n        }\n      });\n  }, []);\n\n  // If selectedProperty changes (e.g. user clicks edit), update formData\n  React.useEffect(() => {\n    if (selectedProperty) {\n      // If priceRange is a string (old data), try to parse it\n      let priceRange = selectedProperty.priceRange;\n      if (typeof priceRange === 'string') {\n        // Try to extract numbers and unit\n        const match = (priceRange as string).match(/([\\d.]+)[^\\d]+([\\d.]+)?\\s*(Lac|Cr)?/i);\n        priceRange = {\n          from: { value: match?.[1] || '', unit: (match?.[3] === 'Cr' ? 'Cr' : 'Lac') as 'Lac' | 'Cr' },\n          to: { value: match?.[2] || '', unit: (match?.[3] === 'Cr' ? 'Cr' : 'Lac') as 'Lac' | 'Cr' },\n        };\n      } else if (!priceRange) {\n        priceRange = { from: { value: '', unit: 'Lac' }, to: { value: '', unit: 'Lac' } };\n      }\n      // In React.useEffect for selectedProperty, ensure keyHighlights is always defined\n      let keyHighlights = selectedProperty.keyHighlights || {\n        reraApproved: false,\n        possessionDate: '',\n        unitConfiguration: '',\n        carpetArea: { from: '', to: '', unit: 'sqft' },\n        otherAmenities: [''],\n        igbcGoldCertified: false,\n      };\n      let carpetArea = keyHighlights.carpetArea;\n      if (typeof carpetArea === 'string') {\n        // Try to extract numbers and unit\n        const match = (carpetArea as string).match(/([\\d.]+)[^\\d]+([\\d.]+)?\\s*(sqft|sqmt|sqyd|acre|hectare)?/i);\n        carpetArea = {\n          from: match?.[1] || '',\n          to: match?.[2] || '',\n          unit: match?.[3] || 'sqft',\n        };\n      } else if (!carpetArea) {\n        carpetArea = { from: '', to: '', unit: 'sqft' };\n      }\n      keyHighlights = { ...keyHighlights, carpetArea };\n      setFormData({ ...selectedProperty, priceRange, keyHighlights });\n    } else {\n      setFormData(defaultForm);\n    }\n  }, [selectedProperty]);\n\n  const handleChange = (field: keyof Property, value: any) => {\n    if (field === 'priceRange') {\n      setFormData(prev => {\n        // Ensure from and to are always objects with value/unit\n        let from = value.from ?? prev.priceRange.from ?? { value: '', unit: 'Lac' };\n        let to = value.to ?? prev.priceRange.to ?? { value: '', unit: 'Lac' };\n        // If from or to are strings, convert to object\n        if (typeof from === 'string') from = { value: from, unit: 'Lac' };\n        if (typeof to === 'string') to = { value: to, unit: 'Lac' };\n        // Ensure unit is correct type\n        if (typeof from.unit !== 'string' || (from.unit !== 'Lac' && from.unit !== 'Cr')) from.unit = 'Lac';\n        if (typeof to.unit !== 'string' || (to.unit !== 'Lac' && to.unit !== 'Cr')) to.unit = 'Lac';\n        return {\n          ...prev,\n          priceRange: { from, to },\n        };\n      });\n    } else {\n      setFormData(prev => ({ ...prev, [field]: value }));\n    }\n  };\n\n  const handleNestedChange = (section: keyof Property, field: string, value: any) => {\n    setFormData(prev => {\n      const sectionValue = prev[section] as any;\n      return {\n        ...prev,\n        [section]: { ...sectionValue, [field]: value },\n      };\n    });\n  };\n\n  const handleArrayChange = (section: keyof Property, field: string, index: number, value: string) => {\n    setFormData(prev => {\n      const sectionValue = typeof prev[section] === 'object' && prev[section] !== null ? prev[section] as any : {};\n      const arr = Array.isArray(sectionValue[field]) ? [...sectionValue[field]] : [];\n      arr[index] = value;\n      return {\n        ...prev,\n        [section]: { ...sectionValue, [field]: arr },\n      };\n    });\n  };\n\n  const handleArrayAdd = (section: keyof Property, field: string) => {\n    setFormData(prev => {\n      const sectionValue = typeof prev[section] === 'object' && prev[section] !== null ? prev[section] as any : {};\n      const arr = Array.isArray(sectionValue[field]) ? [...sectionValue[field], ''] : [''];\n      return {\n        ...prev,\n        [section]: { ...sectionValue, [field]: arr },\n      };\n    });\n  };\n\n  const handleArrayRemove = (section: keyof Property, field: string, index: number) => {\n    setFormData(prev => {\n      const sectionValue = typeof prev[section] === 'object' && prev[section] !== null ? prev[section] as any : {};\n      const arr = Array.isArray(sectionValue[field]) ? [...sectionValue[field]] : [];\n      arr.splice(index, 1);\n      return {\n        ...prev,\n        [section]: { ...sectionValue, [field]: arr },\n      };\n    });\n  };\n\n  const handleGalleryChange = (index: number, key: keyof GalleryItem, value: string) => {\n    setFormData(prev => {\n      const gallery = [...prev.gallery];\n      gallery[index] = { ...gallery[index], [key]: value };\n      return { ...prev, gallery };\n    });\n  };\n\n  const handleGalleryAdd = () => {\n    setFormData(prev => ({ ...prev, gallery: [...prev.gallery, { url: '', name: '', data: '' }] }));\n  };\n\n  const handleGalleryRemove = (index: number) => {\n    setFormData(prev => {\n      const gallery = [...prev.gallery];\n      gallery.splice(index, 1);\n      return { ...prev, gallery };\n    });\n  };\n\n  const handleVideoChange = (index: number, key: keyof VideoItem, value: string) => {\n    setFormData(prev => {\n      const videos = [...prev.videos];\n      videos[index] = { ...videos[index], [key]: value };\n      return { ...prev, videos };\n    });\n  };\n\n  const handleVideoAdd = () => {\n    setFormData(prev => ({ ...prev, videos: [...prev.videos, { url: '', name: '' }] }));\n  };\n\n  const handleVideoRemove = (index: number) => {\n    setFormData(prev => {\n      const videos = [...prev.videos];\n      videos.splice(index, 1);\n      return { ...prev, videos };\n    });\n  };\n\n  const handleOtherProjectsChange = (selectedProjectNames: string[]) => {\n    setFormData(prev => ({ ...prev, otherProjects: selectedProjectNames }));\n  };\n\n  const handleOtherProjectsAdd = () => {\n    setFormData(prev => ({ ...prev, otherProjects: [...prev.otherProjects, ''] }));\n  };\n\n  const handleOtherProjectsRemove = (index: number) => {\n    setFormData(prev => {\n      const otherProjects = [...prev.otherProjects];\n      otherProjects.splice(index, 1);\n      return { ...prev, otherProjects };\n    });\n  };\n\n  const handleFeaturedDevImageChange = (index: number, key: keyof GalleryItem, value: string) => {\n    setFormData(prev => {\n      const images = [...prev.featuredDevelopment.images];\n      images[index] = { ...images[index], [key]: value };\n      return { ...prev, featuredDevelopment: { ...prev.featuredDevelopment, images } };\n    });\n  };\n\n  const handleFeaturedDevImageAdd = () => {\n    setFormData(prev => ({\n      ...prev,\n      featuredDevelopment: {\n        ...prev.featuredDevelopment,\n        images: [...prev.featuredDevelopment.images, { url: '', name: '', data: '' }],\n      },\n    }));\n  };\n\n  const handleFeaturedDevImageRemove = (index: number) => {\n    setFormData(prev => {\n      const images = [...prev.featuredDevelopment.images];\n      images.splice(index, 1);\n      return {\n        ...prev,\n        featuredDevelopment: { ...prev.featuredDevelopment, images },\n      };\n    });\n  };\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    // Property name validation\n    const name = formData.name.trim();\n    if (!name || name === '.' || /^\\.+$/.test(name)) {\n      showToast('Property name cannot be empty, only spaces, or only dots.', 'error');\n      setLoading(false);\n      return;\n    }\n    // Video URL validation (all must be valid if not blank)\n    const urlPattern = /^https?:\\/\\/.+\\..+/;\n    for (const video of formData.videos) {\n      if (video.url && !urlPattern.test(video.url)) {\n        showToast('Please enter a valid Video URL (must start with http:// or https://)', 'error');\n        setLoading(false);\n        return;\n      }\n    }\n\n    // Address URL validation (if present)\n    if (formData.locationAdvantage.addressUrl && !urlPattern.test(formData.locationAdvantage.addressUrl)) {\n      showToast('Please enter a valid Address URL (must start with http:// or https://)', 'error');\n      setLoading(false);\n      return;\n    }\n    // RERA Number validation (if present)\n    if (formData.keyHighlights?.reraApproved) {\n      const reraNumber = formData.keyHighlights.reraNumber?.trim();\n      if (reraNumber && /^-?0+$/.test(reraNumber)) {\n        showToast('RERA Number cannot be zero.', 'error');\n        setLoading(false);\n        return;\n      }\n      if (reraNumber && /^-/.test(reraNumber)) {\n        showToast('RERA Number cannot be negative.', 'error');\n        setLoading(false);\n        return;\n      }\n    }\n\n    // Carpet Area validation\n    const carpetFrom = parseFloat(formData.keyHighlights?.carpetArea?.from || '');\n    const carpetTo = parseFloat(formData.keyHighlights?.carpetArea?.to || '');\n    if (\n      isNaN(carpetFrom) || isNaN(carpetTo) ||\n      carpetFrom <= 0 || carpetTo <= 0\n    ) {\n      showToast('Carpet area values must be positive numbers.', 'error');\n      setLoading(false);\n      return;\n    }\n    if (carpetFrom > carpetTo) {\n      showToast('Carpet Area From should not be greater than Carpet Area To.', 'error');\n      setLoading(false);\n      return;\n    }\n    // Website URL validation\n    if (formData.builder.websiteUrl && !/^https?:\\/\\/.+\\..+/.test(formData.builder.websiteUrl)) {\n      showToast('Please enter a valid Website URL (must start with http:// or https://)', 'error');\n      setLoading(false);\n      return;\n    }\n    // Price validation\n    const fromValue = parseFloat(formData.priceRange.from.value);\n    const toValue = parseFloat(formData.priceRange.to.value);\n    const fromUnit = formData.priceRange.from.unit;\n    const toUnit = formData.priceRange.to.unit;\n    // Convert to Cr for comparison\n    const fromCr = fromUnit === 'Cr' ? fromValue : fromValue / 100;\n    const toCr = toUnit === 'Cr' ? toValue : toValue / 100;\n    if (isNaN(fromValue) || isNaN(toValue) || fromValue <= 0 || toValue <= 0) {\n      showToast('Price values must be positive numbers.', 'error');\n      return;\n    }\n    if (fromCr > toCr) {\n      showToast('Price From should not be greater than Price To.', 'error');\n      return;\n    }\n    setLoading(true);\n    try {\n      // Remove gallery items that have neither data nor url\n      const cleanedGallery = formData.gallery.filter(img => (img.data && img.data !== '') || (img.url && img.url !== ''));\n      const submitData = { ...formData, gallery: cleanedGallery };\n      const isEdit = Boolean(formData._id);\n      const res = await fetch('/api/properties', {\n        method: isEdit ? 'PUT' : 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify(submitData),\n      });\n      const data = await res.json();\n      if (data.success) {\n        showToast('Property saved successfully!', 'success');\n        setCurrentPage('properties');\n        setSelectedProperty(null); // Clear selected property after saving\n      } else {\n        showToast(data.message || 'Failed to save property', 'error');\n        // Do not close the form on error\n      }\n    } catch (err) {\n      showToast('Failed to save property', 'error');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const statusOptions = [\n    { value: 'Ready', label: 'Ready' },\n    { value: 'Under Construction', label: 'Under Construction' },\n    { value: 'Upcoming', label: 'Upcoming' },\n  ];\n\n  const unitNumbers = ['1', '2', '3', '4', '5', '6'];\n  const unitTypes = ['BHK', 'RK', 'Studio'];\n\n  return (\n    <div className=\"p-8 overflow-hidden sticky top-0 bg-black min-h-screen\">\n      <div className=\"flex items-center justify-between mb-8\">\n        <div className=\"flex items-center space-x-4\">\n          <Button\n            variant=\"ghost\"\n            size=\"sm\"\n            icon={ArrowLeft}\n            onClick={() => { setCurrentPage('properties'); setSelectedProperty(null); }}\n          >{''}</Button>\n          <div>\n            <h1 className=\"text-2xl font-bold text-white mb-2\">{selectedProperty ? 'Edit Property' : 'Add Property'}</h1>\n            <p className=\"text-gray-400\">{selectedProperty ? 'Edit the property details' : 'Create a new property listing'}</p>\n          </div>\n        </div>\n      </div>\n      <form onSubmit={handleSubmit} className=\"space-y-8\">\n        {/* Section 1: Basic Info */}\n        <Card>\n          <h2 className=\"text-lg font-semibold text-white mb-6\">Basic Info</h2>\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n            <Input label=\"Property name\" value={formData.name} onChange={v => handleChange('name', v)} required />\n            <Input label=\"Tagline\" value={formData.tagline} onChange={v => handleChange('tagline', v)} />\n            <Select label=\"Property type\" options={propertyCategories} value={formData.propertyType} onChange={v => handleChange('propertyType', v)} required placeholder=\"Select property type\" />\n            <Input label=\"Area\" value={formData.location} onChange={v => handleChange('location', v)} required />\n            <div className=\"flex gap-2 items-end\">\n              <Input label=\"Price From\" value={formData.priceRange.from.value} onChange={v => setFormData(prev => ({ ...prev, priceRange: { ...prev.priceRange, from: { ...prev.priceRange.from, value: v } } }))} required />\n              <Select\n                label=\"Unit\"\n                options={[\n                  { value: 'Lac', label: 'Lac' },\n                  { value: 'Cr', label: 'Cr' }\n                ]}\n                value={formData.priceRange.from.unit}\n                onChange={v => setFormData(prev => ({ ...prev, priceRange: { ...prev.priceRange, from: { ...prev.priceRange.from, unit: v as 'Lac' | 'Cr' } } }))}\n                required\n                className=\"w-28\"\n              />\n              <span className=\"text-white mb-2\">to</span>\n              <Input label=\"Price To\" value={formData.priceRange.to.value} onChange={v => setFormData(prev => ({ ...prev, priceRange: { ...prev.priceRange, to: { ...prev.priceRange.to, value: v } } }))} required />\n              <Select\n                label=\"Unit\"\n                options={[\n                  { value: 'Lac', label: 'Lac' },\n                  { value: 'Cr', label: 'Cr' }\n                ]}\n                value={formData.priceRange.to.unit}\n                onChange={v => setFormData(prev => ({ ...prev, priceRange: { ...prev.priceRange, to: { ...prev.priceRange.to, unit: v as 'Lac' | 'Cr' } } }))}\n                required\n                className=\"w-28\"\n              />\n            </div>\n          </div>\n        </Card>\n        {/* Section 2: Builder Information */}\n        <Card>\n          <h2 className=\"text-lg font-semibold text-white mb-6\">Builder Information</h2>\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n            <Input label=\"Website url\" value={formData.builder.websiteUrl} onChange={v => handleNestedChange('builder', 'websiteUrl', v)} />\n          </div>\n        </Card>\n        {/* Section 3: Key Highlights */}\n        <Card>\n          <h2 className=\"text-lg font-semibold text-white mb-6\">Key Highlights</h2>\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n            <label className=\"flex items-center space-x-3\">\n              <input type=\"checkbox\" checked={formData.keyHighlights?.reraApproved ?? false} onChange={e => handleNestedChange('keyHighlights', 'reraApproved', e.target.checked)} />\n              <span className=\"text-sm text-gray-300\">RERA Approved</span>\n            </label>\n            {formData.keyHighlights?.reraApproved && (\n              <Input label=\"RERA Number\" value={formData.keyHighlights?.reraNumber || ''} onChange={v => handleNestedChange('keyHighlights', 'reraNumber', v)} required />\n            )}\n            <Input label=\"Possession Date\" type=\"date\" value={formData.keyHighlights?.possessionDate || ''} onChange={v => handleNestedChange('keyHighlights', 'possessionDate', v)} />\n            <div>\n              <label className=\"block text-gray-300 mb-2\">Unit Configuration</label>\n              <div className=\"grid grid-cols-3 gap-x-6 gap-y-2 mb-2 w-max\">\n                {[\"1BHK\", \"2BHK\", \"3BHK\", \"4BHK\", \"5BHK\", \"6BHK\", \"RK\", \"Studio\"].map((unit) => (\n                  <div key={unit} className=\"flex items-center gap-1 min-w-[80px]\">\n                    <input\n                      type=\"checkbox\"\n                      checked={!!formData.keyHighlights?.unitConfiguration?.includes(unit)}\n                      onChange={e => {\n                        let current = formData.keyHighlights?.unitConfiguration?.split(',').map(s => s.trim()).filter(Boolean) || [];\n                        if (e.target.checked) {\n                          current.push(unit);\n                        } else {\n                          current = current.filter(val => val !== unit);\n                        }\n                        handleNestedChange('keyHighlights', 'unitConfiguration', current.join(', '));\n                      }}\n                      className=\"form-checkbox h-4 w-4 text-blue-600\"\n                    />\n                    <span className=\"text-gray-300 text-base\">{unit}</span>\n                  </div>\n                ))}\n              </div>\n            </div>\n            <div className=\"flex gap-2 items-end\">\n              <Input label=\"Carpet Area From\" value={formData.keyHighlights?.carpetArea?.from || ''} onChange={v => setFormData(prev => ({ ...prev, keyHighlights: { ...prev.keyHighlights, carpetArea: { ...prev.keyHighlights?.carpetArea, from: v } } }))} required />\n              <span className=\"text-white mb-2\">to</span>\n              <Input label=\"Carpet Area To\" value={formData.keyHighlights?.carpetArea?.to || ''} onChange={v => setFormData(prev => ({ ...prev, keyHighlights: { ...prev.keyHighlights, carpetArea: { ...prev.keyHighlights?.carpetArea, to: v } } }))} required />\n              <Select\n                label=\"Unit\"\n                options={[\n                  { value: 'sqft', label: 'sqft' },\n                  { value: 'sqmt', label: 'sqmt' },\n                  { value: 'sqyd', label: 'sqyd' },\n                  { value: 'acre', label: 'acre' },\n                  { value: 'hectare', label: 'hectare' }\n                ]}\n                value={formData.keyHighlights?.carpetArea?.unit || 'sqft'}\n                onChange={v => setFormData(prev => ({ ...prev, keyHighlights: { ...prev.keyHighlights, carpetArea: { ...prev.keyHighlights?.carpetArea, unit: v } } }))}\n                required\n                className=\"w-28\"\n              />\n            </div>\n            <label className=\"flex items-center space-x-3\">\n              <input type=\"checkbox\" checked={formData.keyHighlights?.igbcGoldCertified} onChange={e => handleNestedChange('keyHighlights', 'igbcGoldCertified', e.target.checked)} />\n              <span className=\"text-sm text-gray-300\">IGBC Gold certified</span>\n            </label>\n            {formData.keyHighlights?.igbcGoldCertified && (\n              <Select\n                label=\"IGBC Level\"\n                options={[\n                  { value: 'Certified', label: 'Certified' },\n                  { value: 'Silver', label: 'Silver' },\n                  { value: 'Gold', label: 'Gold' },\n                  { value: 'Platinum', label: 'Platinum' },\n                ]}\n                value={formData.keyHighlights?.igbcLevel || ''}\n                onChange={v => handleNestedChange('keyHighlights', 'igbcLevel', v)}\n                required\n              />\n            )}\n          </div>\n          <div className=\"mt-6\">\n            <h3 className=\"text-sm font-medium text-gray-300 mb-2\">Other amenities</h3>\n            {formData.keyHighlights?.otherAmenities.map((amenity, idx) => (\n              <div key={idx} className=\"flex items-center space-x-3 mb-2\">\n                <Input placeholder=\"Amenity\" value={amenity} onChange={v => handleArrayChange('keyHighlights', 'otherAmenities', idx, v)} />\n                <Button variant=\"ghost\" size=\"sm\" icon={X} onClick={() => handleArrayRemove('keyHighlights', 'otherAmenities', idx)}>{''}</Button>\n              </div>\n            ))}\n            <Button variant=\"ghost\" size=\"sm\" icon={Plus} onClick={() => handleArrayAdd('keyHighlights', 'otherAmenities')}>{''}</Button>\n          </div>\n        </Card>\n        {/* Section 4: Gallery */}\n        <Card>\n          <h2 className=\"text-lg font-semibold text-white mb-6\">Gallery</h2>\n          {formData.gallery.map((item, idx) => (\n            <div key={idx} className=\"flex items-center space-x-3 mb-2\">\n              {/* File upload for new images */}\n              <input\n                type=\"file\"\n                accept=\"image/*\"\n                style={{ color: 'white' }}\n                onChange={async (e) => {\n                  const file = e.target.files?.[0];\n                  if (file) {\n                    const reader = new FileReader();\n                    reader.onloadend = () => {\n                      const base64 = reader.result as string;\n                      setFormData(prev => {\n                        const gallery = [...prev.gallery];\n                        gallery[idx] = { ...gallery[idx], data: base64, url: '', name: gallery[idx].name };\n                        return { ...prev, gallery };\n                      });\n                    };\n                    reader.readAsDataURL(file);\n                  }\n                }}\n              />\n              {/* Show preview if base64 or url exists */}\n              {item.data ? (\n                <img src={item.data} alt=\"Preview\" className=\"w-16 h-16 object-cover rounded\" />\n              ) : item.url ? (\n                <img src={item.url} alt=\"Preview\" className=\"w-16 h-16 object-cover rounded\" />\n              ) : null}\n              <Input placeholder=\"Name\" value={item.name} onChange={v => handleGalleryChange(idx, 'name', v)} />\n              {/* For backward compatibility, allow editing url if present */}\n              {item.url && !item.data && (\n                <Input placeholder=\"Image URL\" value={item.url} onChange={v => handleGalleryChange(idx, 'url', v)} />\n              )}\n              <Button variant=\"ghost\" size=\"sm\" icon={X} onClick={() => handleGalleryRemove(idx)}>{''}</Button>\n            </div>\n          ))}\n          <Button variant=\"ghost\" size=\"sm\" icon={Plus} onClick={handleGalleryAdd}>{''}</Button>\n        </Card>\n        {/* Section 5: Video */}\n        <Card>\n          <h2 className=\"text-lg font-semibold text-white mb-6\">Video</h2>\n          {formData.videos.map((item, idx) => (\n            <div key={idx} className=\"flex items-center space-x-3 mb-2\">\n              <Input placeholder=\"Video URL\" value={item.url} onChange={v => handleVideoChange(idx, 'url', v)} />\n              <Input placeholder=\"Name\" value={item.name} onChange={v => handleVideoChange(idx, 'name', v)} />\n              <Button variant=\"ghost\" size=\"sm\" icon={X} onClick={() => handleVideoRemove(idx)}>{''}</Button>\n            </div>\n          ))}\n          <Button variant=\"ghost\" size=\"sm\" icon={Plus} onClick={handleVideoAdd}>{''}</Button>\n        </Card>\n        {/* Section 6: Location and Proximity Highlights */}\n        <Card>\n          <h2 className=\"text-lg font-semibold text-white mb-6\">Location and Proximity Highlights</h2>\n          <Input label=\"Address\" value={formData.locationAdvantage.address} onChange={v => handleNestedChange('locationAdvantage', 'address', v)} />\n          <Input label=\"Address url\" value={formData.locationAdvantage.addressUrl} onChange={v => handleNestedChange('locationAdvantage', 'addressUrl', v)} />\n          <div className=\"mt-6\">\n            <h3 className=\"text-sm font-medium text-gray-300 mb-2\">Advantages</h3>\n            {formData.locationAdvantage.advantages.map((adv, idx) => (\n              <div key={idx} className=\"flex items-center space-x-3 mb-2\">\n                <Input placeholder=\"Advantage\" value={adv} onChange={v => handleArrayChange('locationAdvantage', 'advantages', idx, v)} />\n                <Button variant=\"ghost\" size=\"sm\" icon={X} onClick={() => handleArrayRemove('locationAdvantage', 'advantages', idx)}>{''}</Button>\n              </div>\n            ))}\n            <Button variant=\"ghost\" size=\"sm\" icon={Plus} onClick={() => handleArrayAdd('locationAdvantage', 'advantages')}>{''}</Button>\n          </div>\n        </Card>\n        {/* Section 7: Featured Development */}\n        <Card>\n          <h2 className=\"text-lg font-semibold text-white mb-6\">Featured Development</h2>\n          <Input label=\"Text\" value={formData.featuredDevelopment.text} onChange={v => handleNestedChange('featuredDevelopment', 'text', v)} />\n          <div className=\"mt-6\">\n            <h3 className=\"text-sm font-medium text-gray-300 mb-2\">Images</h3>\n            {formData.featuredDevelopment.images.map((item, idx) => (\n              <div key={idx} className=\"flex items-center space-x-3 mb-2\">\n                {/* File upload for new images */}\n                <input\n                  type=\"file\"\n                  accept=\"image/*\"\n                  style={{ color: 'white' }}\n                  onChange={async (e) => {\n                    const file = e.target.files?.[0];\n                    if (file) {\n                      const reader = new FileReader();\n                      reader.onloadend = () => {\n                        const base64 = reader.result as string;\n                        setFormData(prev => {\n                          const images = [...prev.featuredDevelopment.images];\n                          images[idx] = { ...images[idx], data: base64, url: '', name: images[idx].name };\n                          return { ...prev, featuredDevelopment: { ...prev.featuredDevelopment, images } };\n                        });\n                      };\n                      reader.readAsDataURL(file);\n                    }\n                  }}\n                />\n                {/* Show preview if base64 or url exists */}\n                {item.data ? (\n                  <img src={item.data} alt=\"Preview\" className=\"w-16 h-16 object-cover rounded\" />\n                ) : item.url ? (\n                  <img src={item.url} alt=\"Preview\" className=\"w-16 h-16 object-cover rounded\" />\n                ) : null}\n                <Input placeholder=\"Name\" value={item.name || \"\"} onChange={v => handleFeaturedDevImageChange(idx, 'name', v)} />\n                {/* For backward compatibility, allow editing url if present */}\n                {item.url && !item.data && (\n                  <Input placeholder=\"Image URL\" value={item.url || \"\"} onChange={v => handleFeaturedDevImageChange(idx, 'url', v)} />\n                )}\n                <Button variant=\"ghost\" size=\"sm\" icon={X} onClick={() => handleFeaturedDevImageRemove(idx)}>{''}</Button>\n              </div>\n            ))}\n            <Button variant=\"ghost\" size=\"sm\" icon={Plus} onClick={handleFeaturedDevImageAdd}>{''}</Button>\n          </div>\n        </Card>\n        {/* Section 8: Other Projects of The Stolen Group */}\n        <Card>\n          <h2 className=\"text-lg font-semibold text-white mb-6\">Other Projects</h2>\n          <div className=\"space-y-4\">\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n              <Select \n                label=\"Property Type\"\n                options={[\n                  { value: '', label: 'Select property type' },\n                  ...propertyCategories\n                ]}\n                value={formData.propertyType}\n                onChange={v => handleChange('propertyType', v)}\n              />\n              <Select \n                label=\"Property\" \n                options={[\n                  { value: '', label: 'Select property type first' },\n                  ...allProperties\n                    .filter(property => \n                      property.propertyType === formData.propertyType && \n                      property._id !== formData._id\n                    )\n                    .sort((a, b) => a.name.localeCompare(b.name)) // Sort alphabetically by name\n                    .map(property => ({\n                      value: property.name,\n                      label: `${property.name} - ${property.location}`\n                    }))\n                ]} \n                value=\"\" \n                onChange={v => {\n                  if (v && !formData.otherProjects.includes(v)) {\n                    handleOtherProjectsChange([...formData.otherProjects, v]);\n                  }\n                }} \n              />\n            </div>\n            \n            {formData.otherProjects.length > 0 && (\n              <div className=\"mt-4\">\n                <p className=\"text-sm text-gray-300 mb-2\">Selected Projects:</p>\n                <div className=\"flex flex-wrap gap-2\">\n                  {formData.otherProjects.filter(Boolean).map((projectName, index) => (\n                    <span\n                      key={index}\n                      className=\"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-red-100 text-red-800\"\n                    >\n                      {projectName}\n                      <button\n                        type=\"button\"\n                        onClick={() => handleOtherProjectsChange(formData.otherProjects.filter((_, i) => i !== index))}\n                        className=\"ml-1 inline-flex items-center justify-center w-4 h-4 rounded-full text-red-400 hover:bg-red-200 hover:text-red-500 focus:outline-none focus:bg-red-200 focus:text-red-500\"\n                      >\n                        <span className=\"sr-only\">Remove</span>\n                        ×\n                      </button>\n                    </span>\n                  ))}\n                </div>\n              </div>\n            )}\n          </div>\n        </Card>\n        {/* Section 9: Trending Score */}\n        <Card>\n          <h2 className=\"text-lg font-semibold text-white mb-6\">Trending Score</h2>\n          <Input\n            label=\"Trending Score (1-10)\"\n            type=\"number\"\n            value={formData.trendingScore === undefined || formData.trendingScore === null ? '' : formData.trendingScore.toString()}\n            onChange={v => {\n              // Allow blank\n              if (v === '' || v === null) {\n                handleChange('trendingScore', undefined);\n                return;\n              }\n              const num = parseInt(v);\n              // Restrict to 1-10 only\n              if (isNaN(num) || num < 1 || num > 10) {\n                showToast('Trending Score must be a number between 1 and 10.', 'error');\n                return;\n              }\n              // Prevent duplicate\n              if (isTrendingScoreDuplicate(num)) {\n                showToast('Trending Score must be unique across all properties.', 'error');\n                return;\n              }\n              handleChange('trendingScore', num);\n            }}\n            helperText=\"Enter a value between 1 and 10. Must be unique. Can be left blank.\"\n          />\n        </Card>\n        {/* Section 10: Featured */}\n        <Card>\n          <h2 className=\"text-lg font-semibold text-white mb-6\">Featured</h2>\n          <label className=\"flex items-center space-x-3\">\n            <input type=\"checkbox\" checked={formData.featured} onChange={e => handleChange('featured', e.target.checked)} />\n            <span className=\"text-sm text-gray-300\">Featured</span>\n          </label>\n          {/* Home Checkbox */}\n          <label className=\"flex items-center space-x-3 mt-4\">\n            <input type=\"checkbox\" checked={!!formData.home} onChange={e => handleChange('home', e.target.checked)} />\n            <span className=\"text-sm text-gray-300\">Home</span>\n          </label>\n        </Card>\n        {/* Section 11: Status */}\n        <Card>\n          <h2 className=\"text-lg font-semibold text-white mb-6\">Status</h2>\n          <Select label=\"Status\" options={statusOptions} value={formData.status} onChange={v => handleChange('status', v)} required />\n        </Card>\n        {/* Form Actions */}\n        <div className=\"flex items-center justify-end space-x-4\">\n          <Button variant=\"secondary\" onClick={() => { setCurrentPage('properties'); setSelectedProperty(null); }}>{'Cancel'}</Button>\n          <Button variant=\"primary\" type=\"submit\" disabled={loading}>{loading ? 'Saving...' : (selectedProperty ? 'Update Property' : 'Save Property')}</Button>\n        </div>\n      </form>\n    </div>\n  );\n};"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 4298, "column": 0}, "map": {"version":3,"sources":["file:///Users/rawboy/Downloads/property-final--master/src/app/admin/components/pages/Inquiries.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Mail, Phone, User, Calendar, Filter, Search, Eye, MessageSquare, CheckCircle, Clock, AlertCircle } from 'lucide-react';\nimport { Card } from '../../components/common/Card';\nimport { Button } from '../../components/common/Button';\nimport { Badge } from '../../components/common/Badge';\nimport { Input } from '../../components/common/Input';\nimport { Select } from '../../components/common/Select';\nimport { useApp } from '../../context/AppContext';\nimport { Property } from '../../types';\n\nexport const Inquiries: React.FC = () => {\n  const { showToast } = useApp();\n  const [inquiries, setInquiries] = useState<any[]>([]);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [filterStatus, setFilterStatus] = useState('');\n  const [filterSource, setFilterSource] = useState('');\n  const [properties, setProperties] = useState<Property[]>([]);\n\n  useEffect(() => {\n    fetch('/api/inquiries')\n      .then(res => res.json())\n      .then(data => {\n        if (data.success) setInquiries(data.inquiries);\n      });\n    fetch('/api/properties')\n      .then(res => res.json())\n      .then(data => {\n        if (data.success) setProperties(data.properties);\n      });\n  }, []);\n\n  const filteredInquiries = inquiries.filter(inquiry => {\n    const matchesSearch =\n      (inquiry.fullName || '').toLowerCase().includes(searchTerm.toLowerCase()) ||\n      (inquiry.email || '').toLowerCase().includes(searchTerm.toLowerCase()) ||\n      (inquiry.phone || '').includes(searchTerm) ||\n      (inquiry.propertyName || '').toLowerCase().includes(searchTerm.toLowerCase());\n    const matchesStatus = !filterStatus || inquiry.status === filterStatus;\n    const matchesSource = !filterSource || inquiry.source === filterSource;\n    return matchesSearch && matchesStatus && matchesSource;\n  });\n\n  const handleStatusUpdate = async (id: string, newStatus: string) => {\n    try {\n      const res = await fetch('/api/inquiries', {\n        method: 'PATCH',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ id, status: newStatus }),\n      });\n      const data = await res.json();\n      if (data.success) {\n        setInquiries(prev => prev.map(inq => inq._id === id ? { ...inq, status: newStatus } : inq));\n        showToast(`Inquiry status updated to ${newStatus}`, 'success');\n      } else {\n        showToast(data.message || 'Failed to update status', 'error');\n      }\n    } catch (err) {\n      showToast('Failed to update status', 'error');\n    }\n  };\n\n  const handleViewDetails = (id: string) => {\n    showToast('Opening inquiry details...', 'info');\n  };\n\n  const handleDeleteInquiry = async (id: string) => {\n    if (window.confirm('Are you sure you want to delete this inquiry? This action cannot be undone.')) {\n      try {\n        const response = await fetch(`/api/inquiries/${id}`, {\n          method: 'DELETE',\n          headers: {\n            'Content-Type': 'application/json',\n          },\n        });\n\n        const data = await response.json();\n\n        if (data.success) {\n          // Update the local state to remove the deleted inquiry\n          setInquiries(prevInquiries => prevInquiries.filter(inquiry => inquiry._id !== id));\n          showToast('Inquiry deleted successfully', 'success');\n        } else {\n          throw new Error(data.message || 'Failed to delete inquiry');\n        }\n      } catch (error) {\n        console.error('Error deleting inquiry:', error);\n        showToast(error.message || 'Failed to delete inquiry', 'error');\n      }\n    }\n  };\n\n  const statusOptions = [\n    { value: '', label: 'All Status' },\n    { value: 'new', label: 'New' },\n    { value: 'contacted', label: 'Contacted' },\n    { value: 'qualified', label: 'Qualified' },\n    { value: 'closed', label: 'Closed' },\n  ];\n\n  const sourceOptions = [\n    { value: '', label: 'All Sources' },\n    { value: 'website', label: 'Website' },\n    { value: 'phone', label: 'Phone' },\n    { value: 'email', label: 'Email' },\n    { value: 'walk-in', label: 'Walk-in' },\n  ];\n\n  const getStatusBadge = (status: string) => {\n    switch (status) {\n      case 'new':\n        return <Badge variant=\"info\" size=\"sm\">New</Badge>;\n      case 'contacted':\n        return <Badge variant=\"warning\" size=\"sm\">Contacted</Badge>;\n      case 'qualified':\n        return <Badge variant=\"success\" size=\"sm\">Qualified</Badge>;\n      case 'closed':\n        return <Badge variant=\"error\" size=\"sm\">Closed</Badge>;\n      default:\n        return <Badge variant=\"info\" size=\"sm\">{status}</Badge>;\n    }\n  };\n\n  const getStatusIcon = (status: string) => {\n    switch (status) {\n      case 'new':\n        return <AlertCircle className=\"h-4 w-4 text-blue-500\" />;\n      case 'contacted':\n        return <Clock className=\"h-4 w-4 text-yellow-500\" />;\n      case 'qualified':\n        return <CheckCircle className=\"h-4 w-4 text-green-500\" />;\n      case 'closed':\n        return <CheckCircle className=\"h-4 w-4 text-red-500\" />;\n      default:\n        return <AlertCircle className=\"h-4 w-4 text-gray-500\" />;\n    }\n  };\n\n  const formatDate = (dateString: string) => {\n    return new Date(dateString).toLocaleDateString('en-IN', {\n      day: '2-digit',\n      month: 'short',\n      year: 'numeric',\n      hour: '2-digit',\n      minute: '2-digit'\n    });\n  };\n\n  const stats = [\n    {\n      title: 'Total Inquiries',\n      value: inquiries.length.toString(),\n      icon: MessageSquare,\n      color: 'text-blue-400',\n      bg: 'bg-black/30',\n    },\n    {\n      title: 'New Inquiries',\n      value: inquiries.filter(i => i.status === 'new').length.toString(),\n      icon: AlertCircle,\n      color: 'text-yellow-400',\n      bg: 'bg-black/30',\n    },\n    {\n      title: 'Qualified Leads',\n      value: inquiries.filter(i => i.status === 'qualified').length.toString(),\n      icon: CheckCircle,\n      color: 'text-green-400',\n      bg: 'bg-black/30',\n    },\n    {\n      title: 'Closed Inquiries',\n      value: inquiries.filter(i => i.status === 'closed').length.toString(),\n      icon: Clock,\n      color: 'text-gray-400',\n      bg: 'bg-black/30',\n    },\n  ];\n\n  const getPropertyName = (propertyId: string) => {\n    if (!propertyId) return null;\n    const property = properties.find((p) => p._id === propertyId);\n    return property ? property.name : null;\n  };\n\n  return (\n    <div className=\"p-8 min-h-screen bg-black\">\n      <div className=\"mb-8\">\n        <h1 className=\"text-2xl font-bold text-white mb-2\">Inquiries</h1>\n        <p className=\"text-gray-400\">Manage customer inquiries and leads</p>\n      </div>\n\n      {/* Stats Grid */}\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8\">\n        {stats.map((stat, index) => {\n          const Icon = stat.icon;\n          return (\n            <Card key={index} className={`relative overflow-hidden ${stat.bg}`}>\n              <div className=\"flex items-center justify-between\">\n                <div>\n                  <p className=\"text-sm text-gray-400 mb-1\">{stat.title}</p>\n                  <p className=\"text-2xl font-bold text-white\">{stat.value}</p>\n                </div>\n                <div className={`p-3 rounded-full bg-black/30 ${stat.color} shadow-lg`}>\n                  <Icon className=\"h-6 w-6\" />\n                </div>\n              </div>\n            </Card>\n          );\n        })}\n      </div>\n\n      {/* Filters */}\n      <Card className=\"mb-6\">\n        <div className=\"flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-4 lg:space-y-0\">\n          <div className=\"flex flex-col sm:flex-row space-y-4 sm:space-y-0 sm:space-x-4 flex-1\">\n            <div className=\"relative flex-1\">\n              <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400\" />\n              <input\n                type=\"text\"\n                placeholder=\"Search inquiries...\"\n                value={searchTerm}\n                onChange={(e) => setSearchTerm(e.target.value)}\n                className=\"w-full pl-10 pr-4 py-2 bg-black border border-gray-800 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent\"\n              />\n            </div>\n            <Select\n              options={statusOptions}\n              value={filterStatus}\n              onChange={setFilterStatus}\n              placeholder=\"Filter by status\"\n            />\n          </div>\n        </div>\n      </Card>\n\n      {/* Inquiries List */}\n      <Card>\n        <div className=\"overflow-x-auto\">\n          <table className=\"w-full\">\n            <thead>\n              <tr className=\"border-b border-gray-800\">\n                <th className=\"text-left py-3 px-4 text-gray-300 font-medium\">Contact</th>\n                <th className=\"text-left py-3 px-4 text-gray-300 font-medium\">Property Type</th>\n                <th className=\"text-left py-3 px-4 text-gray-300 font-medium\">Property Name</th>\n                <th className=\"text-left py-3 px-4 text-gray-300 font-medium\">Date</th>\n                <th className=\"text-left py-3 px-4 text-gray-300 font-medium\">Actions</th>\n              </tr>\n            </thead>\n            <tbody>\n              {filteredInquiries.map((inquiry) => (\n                <tr key={inquiry._id || inquiry.id} className=\"border-b border-gray-800 hover:bg-gray-800 transition-colors\">\n                  <td className=\"py-4 px-4\">\n                    <div className=\"space-y-1\">\n                      <div className=\"flex items-center space-x-2\">\n                        <User className=\"h-4 w-4 text-gray-400\" />\n                        <span className=\"font-medium text-white\">{inquiry.fullName}</span>\n                      </div>\n                      <div className=\"flex items-center space-x-2\">\n                        <Mail className=\"h-4 w-4 text-gray-400\" />\n                        <span className=\"text-sm text-gray-400\">{inquiry.email}</span>\n                      </div>\n                      <div className=\"flex items-center space-x-2\">\n                        <Phone className=\"h-4 w-4 text-gray-400\" />\n                        <span className=\"text-sm text-gray-400\">{inquiry.phone}</span>\n                      </div>\n                    </div>\n                  </td>\n                  <td className=\"py-4 px-4\">\n                    <span className=\"text-white\">{inquiry.propertyType || '-'}</span>\n                  </td>\n                  <td className=\"py-4 px-4\">\n                    {getPropertyName(inquiry.propertyId) ? (\n                      <span className=\"text-white\">{getPropertyName(inquiry.propertyId)}</span>\n                    ) : (\n                      <span className=\"text-gray-400\">General Inquiry</span>\n                    )}\n                  </td>\n                  <td className=\"py-4 px-4 text-gray-400 text-sm\">\n                    {formatDate(inquiry.createdAt)}\n                  </td>\n                  <td className=\"py-4 px-4\">\n                    <div className=\"flex items-center space-x-2\">\n                      <Select\n                        options={[\n                          { value: 'new', label: 'New' },\n                          { value: 'contacted', label: 'Contacted' },\n                          { value: 'qualified', label: 'Qualified' },\n                          { value: 'closed', label: 'Closed' },\n                        ]}\n                        value={inquiry.status}\n                        onChange={(value) => handleStatusUpdate(inquiry._id, value)}\n                      />\n                    </div>\n                  </td>\n                </tr>\n              ))}\n            </tbody>\n          </table>\n        </div>\n      </Card>\n\n      {filteredInquiries.length === 0 && (\n        <Card className=\"text-center py-12 mt-6\">\n          <MessageSquare className=\"h-16 w-16 text-gray-600 mx-auto mb-4\" />\n          <h3 className=\"text-lg font-medium text-white mb-2\">No inquiries found</h3>\n          <p className=\"text-gray-400\">Try adjusting your search or filter criteria</p>\n        </Card>\n      )}\n    </div>\n  );\n};"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 5066, "column": 0}, "map": {"version":3,"sources":["file:///Users/rawboy/Downloads/property-final--master/src/app/admin/components/pages/Articles.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Card } from '../../components/common/Card';\nimport { Button } from '../../components/common/Button';\nimport { Input } from '../../components/common/Input';\nimport { Plus, X, Edit, Trash2 } from 'lucide-react';\n\ninterface ArticleImage {\n  url: string;\n  name: string;\n  data: string;\n}\n\ninterface Article {\n  _id?: string;\n  title: string;\n  author: string;\n  date: string;\n  readTime: string;\n  content: string[];\n  images: ArticleImage[];\n  featured?: boolean;\n  coverImage: ArticleImage;\n}\n\nconst defaultArticle: Article = {\n  title: '',\n  author: '',\n  date: '',\n  readTime: '',\n  content: [''],\n  images: [],\n  featured: false,\n  coverImage: { url: '', name: '', data: '' },\n};\n\nconst ArticlesAdmin: React.FC = () => {\n  const [articles, setArticles] = useState<Article[]>([]);\n  const [form, setForm] = useState<Article>(defaultArticle);\n  const [editingId, setEditingId] = useState<string | null>(null);\n  const [showForm, setShowForm] = useState(false);\n  const [searchTerm, setSearchTerm] = useState('');\n\n  useEffect(() => {\n    fetch('/api/articles')\n      .then(res => res.json())\n      .then(data => { if (data.success) setArticles(data.articles); });\n  }, []);\n\n  const handleInput = (field: keyof Article, value: any) => {\n    setForm(prev => ({ ...prev, [field]: value }));\n  };\n  const handleCoverImageFile = (file: File) => {\n    const reader = new FileReader();\n    reader.onloadend = () => {\n      const base64 = reader.result as string;\n      setForm(prev => ({\n        ...prev,\n        coverImage: { ...prev.coverImage, data: base64, url: '', name: prev.coverImage?.name || '' },\n      }));\n    };\n    reader.readAsDataURL(file);\n  };\n\n  const handleContentChange = (idx: number, value: string) => {\n    setForm(prev => {\n      const content = [...prev.content];\n      content[idx] = value;\n      return { ...prev, content };\n    });\n  };\n  const handleContentAdd = () => setForm(prev => ({ ...prev, content: [...prev.content, ''] }));\n  const handleContentRemove = (idx: number) => setForm(prev => {\n    const content = [...prev.content];\n    content.splice(idx, 1);\n    return { ...prev, content };\n  });\n\n  const handleImageChange = (idx: number, key: keyof ArticleImage, value: string) => {\n    setForm(prev => {\n      const images = [...prev.images];\n      images[idx] = { ...images[idx], [key]: value };\n      return { ...prev, images };\n    });\n  };\n  const handleImageAdd = () => setForm(prev => ({ ...prev, images: [...prev.images, { url: '', name: '', data: '' }] }));\n  const handleImageRemove = (idx: number) => setForm(prev => {\n    const images = [...prev.images];\n    images.splice(idx, 1);\n    return { ...prev, images };\n  });\n\n  const handleImageFile = (idx: number, file: File) => {\n    const reader = new FileReader();\n    reader.onloadend = () => {\n      const base64 = reader.result as string;\n      setForm(prev => {\n        const images = [...prev.images];\n        images[idx] = { ...images[idx], data: base64, url: '', name: images[idx].name };\n        return { ...prev, images };\n      });\n    };\n    reader.readAsDataURL(file);\n  };\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    // Validation\n    const title = form.title.trim();\n    const author = form.author.trim();\n    const readTimeNum = parseInt(form.readTime);\n    if (!title || title === '.' || /^\\.+$/.test(title)) {\n      alert('Article title cannot be empty, only spaces, or only dots.');\n      return;\n    }\n    if (!author || author === '.' || /^\\.+$/.test(author)) {\n      alert('Author name cannot be empty, only spaces, or only dots.');\n      return;\n    }\n    if (isNaN(readTimeNum) || readTimeNum <= 0) {\n      alert('Read time must be a positive number.');\n      return;\n    }\n    const method = editingId ? 'PUT' : 'POST';\n    const url = '/api/articles';\n    const body = editingId ? { ...form, _id: editingId } : form;\n    const res = await fetch(url, {\n      method,\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify(body),\n    });\n    const data = await res.json();\n    if (data.success) {\n      setArticles(editingId\n        ? articles.map(a => a._id === editingId ? data.article : a)\n        : [data.article, ...articles]);\n      setShowForm(false);\n      setForm(defaultArticle);\n      setEditingId(null);\n    }\n  };\n\n  const handleEdit = (article: Article) => {\n    setForm({\n      ...article,\n      coverImage: article.coverImage || { url: '', name: '', data: '' },\n    });\n    setEditingId(article._id || null);\n    setShowForm(true);\n  };\n\n  const handleDelete = async (_id?: string) => {\n    if (!_id) return;\n    const res = await fetch('/api/articles', {\n      method: 'DELETE',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify({ _id }),\n    });\n    const data = await res.json();\n    if (data.success) setArticles(articles.filter(a => a._id !== _id));\n  };\n\n  return (\n    <div className=\"p-8\">\n      <div className=\"mb-8 flex items-center justify-between\">\n        <h1 className=\"text-2xl font-bold text-white mb-2\">Articles</h1>\n        <Button variant=\"primary\" icon={Plus} onClick={() => { setShowForm(true); setForm(defaultArticle); setEditingId(null); }}>Add Article</Button>\n      </div>\n      {showForm && (\n        <Card className=\"mb-8\">\n          <form onSubmit={handleSubmit} className=\"space-y-6\">\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n              <Input label=\"Article Title\" value={form.title} onChange={v => handleInput('title', v)} required />\n              <Input label=\"Author Name\" value={form.author} onChange={v => handleInput('author', v)} required />\n              <Input label=\"Date\" value={form.date} onChange={v => handleInput('date', v)} required type=\"date\" />\n              <Input label=\"Read Time (e.g. 12 min read)\" value={form.readTime} onChange={v => handleInput('readTime', v)} required />\n              <div className=\"flex items-center space-x-3 mt-2\">\n                <input\n                  type=\"checkbox\"\n                  checked={!!form.featured}\n                  onChange={e => handleInput('featured', e.target.checked)}\n                  className=\"h-5 w-5 rounded border-gray-300 text-red-600 focus:ring-red-500\"\n                  id=\"featured\"\n                />\n                <label htmlFor=\"featured\" className=\"text-sm text-white\">Featured Article</label>\n              </div>\n            </div>\n            <div>\n              <h3 className=\"text-sm font-medium text-gray-300 mb-2\">Cover Image</h3>\n              <div className=\"flex items-center space-x-3 mb-2\">\n                <input\n                  type=\"file\"\n                  accept=\"image/*\"\n                  style={{ color: 'white' }}\n                  onChange={e => {\n                    const file = e.target.files?.[0];\n                    if (file) handleCoverImageFile(file);\n                  }}\n                />\n                {form.coverImage?.data ? (\n                  <img src={form.coverImage.data} alt=\"Cover Preview\" className=\"w-24 h-24 object-cover rounded\" />\n                ) : form.coverImage?.url ? (\n                  <img src={form.coverImage.url} alt=\"Cover Preview\" className=\"w-24 h-24 object-cover rounded\" />\n                ) : null}\n                <Input placeholder=\"Name\" value={form.coverImage.name} onChange={v => setForm(prev => ({ ...prev, coverImage: { ...prev.coverImage, name: v } }))} />\n                {form.coverImage.url && !form.coverImage.data && (\n                  <Input placeholder=\"Image URL\" value={form.coverImage.url} onChange={v => setForm(prev => ({ ...prev, coverImage: { ...prev.coverImage, url: v } }))} />\n                )}\n              </div>\n            </div>\n            <div>\n              <h3 className=\"text-sm font-medium text-gray-300 mb-2\">Content Paragraphs</h3>\n              {form.content.map((para, idx) => (\n                <div key={idx} className=\"flex items-center space-x-3 mb-2\">\n                  <textarea\n                    placeholder={`Paragraph ${idx + 1}`}\n                    value={para}\n                    onChange={e => handleContentChange(idx, e.target.value)}\n                    required\n                    rows={4}\n                    className=\"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent transition-all duration-200 resize-vertical\"\n                  />\n                  <Button variant=\"ghost\" size=\"sm\" icon={X} onClick={() => handleContentRemove(idx)}>{''}</Button>\n                </div>\n              ))}\n              <Button variant=\"ghost\" size=\"sm\" icon={Plus} onClick={handleContentAdd}>{''}</Button>\n            </div>\n            <div>\n              <h3 className=\"text-sm font-medium text-gray-300 mb-2\">Supporting Images</h3>\n              {form.images.map((item, idx) => (\n                <div key={idx} className=\"flex items-center space-x-3 mb-2\">\n                  <input\n                    type=\"file\"\n                    accept=\"image/*\"\n                    style={{ color: 'white' }}\n                    onChange={e => {\n                      const file = e.target.files?.[0];\n                      if (file) handleImageFile(idx, file);\n                    }}\n                  />\n                  {item.data ? (\n                    <img src={item.data} alt=\"Preview\" className=\"w-16 h-16 object-cover rounded\" />\n                  ) : item.url ? (\n                    <img src={item.url} alt=\"Preview\" className=\"w-16 h-16 object-cover rounded\" />\n                  ) : null}\n                  <Input placeholder=\"Name\" value={item.name || ''} onChange={v => handleImageChange(idx, 'name', v)} />\n                  {item.url && !item.data && (\n                    <Input placeholder=\"Image URL\" value={item.url || ''} onChange={v => handleImageChange(idx, 'url', v)} />\n                  )}\n                  <Button variant=\"ghost\" size=\"sm\" icon={X} onClick={() => handleImageRemove(idx)}>{''}</Button>\n                </div>\n              ))}\n              <Button variant=\"ghost\" size=\"sm\" icon={Plus} onClick={handleImageAdd}>{''}</Button>\n            </div>\n            <div className=\"flex items-center justify-end space-x-4\">\n              <Button variant=\"secondary\" onClick={() => { setShowForm(false); setForm(defaultArticle); setEditingId(null); }}>{'Cancel'}</Button>\n              <Button variant=\"primary\" type=\"submit\">{editingId ? 'Update Article' : 'Save Article'}</Button>\n            </div>\n          </form>\n        </Card>\n      )}\n      <Card>\n        <div className=\"mb-4 flex items-center\">\n          <Input\n            placeholder=\"Search articles...\"\n            value={searchTerm}\n            onChange={setSearchTerm}\n            className=\"w-full max-w-xs\"\n          />\n        </div>\n        <div className=\"overflow-x-auto\">\n          <table className=\"w-full\">\n            <thead>\n              <tr className=\"border-b border-gray-800\">\n                <th className=\"text-left py-3 px-4 text-gray-300 font-medium\">Title</th>\n                <th className=\"text-left py-3 px-4 text-gray-300 font-medium\">Author</th>\n                <th className=\"text-left py-3 px-4 text-gray-300 font-medium\">Date</th>\n                <th className=\"text-left py-3 px-4 text-gray-300 font-medium\">Read Time</th>\n                <th className=\"text-left py-3 px-4 text-gray-300 font-medium\">Actions</th>\n              </tr>\n            </thead>\n            <tbody>\n              {articles.filter(article =>\n                article.title.toLowerCase().includes(searchTerm.toLowerCase()) ||\n                article.author.toLowerCase().includes(searchTerm.toLowerCase()) ||\n                article.readTime.toLowerCase().includes(searchTerm.toLowerCase())\n              ).map((article) => (\n                <tr key={article._id} className=\"border-b border-gray-800 hover:bg-gray-800 transition-colors\">\n                  <td className=\"py-4 px-4 text-white\">{article.title}</td>\n                  <td className=\"py-4 px-4 text-white\">{article.author}</td>\n                  <td className=\"py-4 px-4 text-white\">{article.date}</td>\n                  <td className=\"py-4 px-4 text-white\">{article.readTime}</td>\n                  <td className=\"py-4 px-4\">\n                    <Button variant=\"ghost\" size=\"sm\" icon={Edit} onClick={() => handleEdit(article)}>{''}</Button>\n                    <Button variant=\"ghost\" size=\"sm\" icon={Trash2} onClick={() => handleDelete(article._id)}>{''}</Button>\n                  </td>\n                </tr>\n              ))}\n            </tbody>\n          </table>\n        </div>\n      </Card>\n    </div>\n  );\n};\n\nexport default ArticlesAdmin; "],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 5895, "column": 0}, "map": {"version":3,"sources":["file:///Users/rawboy/Downloads/property-final--master/src/app/admin/components/pages/Groups.tsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport { Card } from '../common/Card';\nimport { Button } from '../common/Button';\nimport { Input } from '../common/Input';\n// import { Select } from '../common/Select';\nimport ReactSelect from 'react-select';\nimport { Property } from '../../types';\nimport { Edit, Trash2 } from 'lucide-react';\n\ninterface Group {\n  _id: string;\n  name: string;\n  properties: Property[];\n  photo?: string;\n}\n\nconst Groups: React.FC = () => {\n  const [showForm, setShowForm] = useState(false);\n  const [groupName, setGroupName] = useState('');\n  const [selectedProperties, setSelectedProperties] = useState<string[]>([]);\n  const [properties, setProperties] = useState<Property[]>([]);\n  const [message, setMessage] = useState<string | null>(null);\n  const [groups, setGroups] = useState<Group[]>([]);\n  const [editingGroup, setEditingGroup] = useState<Group | null>(null);\n  const [groupPhoto, setGroupPhoto] = useState<string>('');\n  const [searchTerm, setSearchTerm] = useState('');\n\n  // Fetch properties for selection\n  useEffect(() => {\n    fetch('/api/properties')\n      .then(res => res.json())\n      .then(data => setProperties(data.properties || []));\n  }, []);\n\n  // Fetch groups from backend\n  const fetchGroups = async () => {\n    const res = await fetch('/api/groups');\n    const data = await res.json();\n    if (data.success) setGroups(data.groups);\n  };\n\n  useEffect(() => {\n    fetchGroups();\n  }, []);\n\n  // Handle group photo file input\n  const handleGroupPhotoChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const file = e.target.files?.[0];\n    if (!file) return;\n    const reader = new FileReader();\n    reader.onloadend = () => {\n      setGroupPhoto(reader.result as string);\n    };\n    reader.readAsDataURL(file);\n  };\n\n  const handleAddGroup = async () => {\n    setMessage(null);\n    if (!groupName.trim()) {\n      setMessage('Group name cannot be empty or only spaces.');\n      return;\n    }\n    try {\n      const res = await fetch('/api/groups', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ name: groupName, properties: selectedProperties, photo: groupPhoto })\n      });\n      const data = await res.json();\n      if (data.success) {\n        setMessage('Group added successfully!');\n        setShowForm(false);\n        setGroupName('');\n        setSelectedProperties([]);\n        setGroupPhoto('');\n        fetchGroups();\n      } else {\n        setMessage('Failed to add group.');\n      }\n    } catch (err) {\n      setMessage('Error adding group.');\n    }\n  };\n\n  const handleDeleteGroup = async (id: string) => {\n    if (!window.confirm('Are you sure you want to delete this group?')) return;\n    const res = await fetch(`/api/groups/${id}`, { method: 'DELETE' });\n    const data = await res.json();\n    if (data.success) {\n      setMessage('Group deleted successfully!');\n      fetchGroups();\n    } else {\n      setMessage('Failed to delete group.');\n    }\n  };\n\n  const formRef = useRef<HTMLDivElement>(null);\n  const handleEditGroup = (group: Group) => {\n    setEditingGroup(group);\n    setShowForm(true);\n    setGroupName(group.name);\n    setSelectedProperties(group.properties.map(p => p._id).filter((id): id is string => !!id));\n    setGroupPhoto((group as any).photo || '');\n    setTimeout(() => {\n      if (formRef.current) {\n        formRef.current.scrollIntoView({ behavior: 'smooth', block: 'center' });\n      }\n    }, 100);\n  };\n\n  const handleSaveEdit = async () => {\n    if (!editingGroup) return;\n    setMessage(null);\n    try {\n      const res = await fetch(`/api/groups/${editingGroup._id}`, {\n        method: 'PUT',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ name: groupName, properties: selectedProperties, photo: groupPhoto })\n      });\n      const data = await res.json();\n      if (data.success) {\n        setMessage('Group updated successfully!');\n        setShowForm(false);\n        setGroupName('');\n        setSelectedProperties([]);\n        setGroupPhoto('');\n        setEditingGroup(null);\n        fetchGroups();\n      } else {\n        setMessage('Failed to update group.');\n      }\n    } catch (err) {\n      setMessage('Error updating group.');\n    }\n  };\n\n  return (\n    <div className=\"p-8\">\n      <div className=\"flex items-center justify-between mb-8\">\n        <h1 className=\"text-2xl font-bold text-white\">Groups</h1>\n        <Button variant=\"primary\" onClick={() => setShowForm(true)}>\n          Add Group\n        </Button>\n      </div>\n      {message && (\n        <div className=\"mb-4 text-green-400\">{message}</div>\n      )}\n      {showForm && (\n        <Card className=\"mb-8\">\n          <div ref={formRef} className=\"flex flex-col gap-4\">\n            <Input label=\"Group Name\" value={groupName} onChange={setGroupName} />\n            <label className=\"text-gray-300 text-sm font-medium mb-1\">Select Properties</label>\n            <div className=\"flex flex-col gap-2\">\n              <ReactSelect\n                isMulti\n                options={properties.filter(p => p._id).map((p) => ({ value: p._id as string, label: p.name }))}\n                value={properties.filter(p => selectedProperties.includes(p._id as string)).map(p => ({ value: p._id as string, label: p.name }))}\n                onChange={opts => setSelectedProperties(Array.isArray(opts) ? opts.map(opt => opt.value) : [])}\n                classNamePrefix=\"react-select\"\n                placeholder=\"Select properties...\"\n                styles={{\n                  control: (base, state) => ({\n                    ...base,\n                    backgroundColor: '#1f2937', // bg-gray-800\n                    borderColor: state.isFocused ? '#ef4444' : '#374151', // focus:red-500, default:gray-700\n                    minHeight: '40px',\n                    color: '#fff',\n                    boxShadow: state.isFocused ? '0 0 0 2px #ef4444' : undefined,\n                  }),\n                  menu: (base) => ({\n                    ...base,\n                    backgroundColor: '#1f2937', // bg-gray-800\n                    color: '#fff',\n                  }),\n                  multiValue: (base) => ({\n                    ...base,\n                    backgroundColor: '#fee2e2',\n                    color: '#991b1b',\n                  }),\n                  multiValueLabel: (base) => ({\n                    ...base,\n                    color: '#991b1b',\n                  }),\n                  multiValueRemove: (base) => ({\n                    ...base,\n                    color: '#991b1b',\n                    ':hover': { backgroundColor: '#fecaca', color: '#b91c1c' },\n                  }),\n                  placeholder: (base) => ({ ...base, color: '#9ca3af' }),\n                  singleValue: (base) => ({ ...base, color: '#fff' }),\n                  option: (base, state) => ({\n                    ...base,\n                    backgroundColor: state.isSelected ? '#991b1b' : state.isFocused ? '#374151' : '#1f2937',\n                    color: '#fff',\n                  }),\n                }}\n              />\n            </div>\n            <label className=\"text-gray-300 text-sm font-medium mb-1\">Group Photo</label>\n            <div className=\"flex items-center gap-4\">\n              <input\n                type=\"file\"\n                accept=\"image/*\"\n                className=\"bg-gray-800 text-white rounded p-2 w-48 text-sm border border-gray-700 focus:outline-none focus:ring-2 focus:ring-red-500\"\n                onChange={handleGroupPhotoChange}\n                style={{ color: 'white' }}\n              />\n              {groupPhoto && (\n                <img src={groupPhoto} alt=\"Group Preview\" className=\"w-16 h-16 object-cover rounded border border-gray-700\" />\n              )}\n            </div>\n            <div className=\"flex gap-2 mt-4\">\n              {editingGroup ? (\n                <Button variant=\"primary\" onClick={handleSaveEdit}>Update Group</Button>\n              ) : (\n                <Button variant=\"primary\" onClick={handleAddGroup}>Save Group</Button>\n              )}\n              <Button variant=\"ghost\" onClick={() => { setShowForm(false); setEditingGroup(null); setGroupName(''); setSelectedProperties([]); setGroupPhoto(''); }}>Cancel</Button>\n            </div>\n          </div>\n        </Card>\n      )}\n      <div className=\"mt-8\">\n        <h2 className=\"text-xl font-semibold text-white mb-4\">Existing Groups</h2>\n        <div className=\"mb-4 flex items-center\">\n          <Input\n            placeholder=\"Search groups...\"\n            value={searchTerm}\n            onChange={setSearchTerm}\n            className=\"w-full max-w-xs\"\n          />\n        </div>\n        {groups.length === 0 ? (\n          <div className=\"text-gray-400\">No groups found.</div>\n        ) : (\n          <div className=\"space-y-4\">\n            {groups.filter(group =>\n              group.name.toLowerCase().includes(searchTerm.toLowerCase())\n            ).map((group) => (\n              <Card key={group._id} className=\"p-4 flex flex-col gap-2\">\n                <div className=\"flex items-center justify-between\">\n                  <div className=\"flex items-center gap-3\">\n                    {group.photo && (\n                      <img src={group.photo} alt={group.name} className=\"w-10 h-10 object-cover rounded-full border border-gray-700\" />\n                    )}\n                    <span className=\"font-bold text-white text-lg\">{group.name}</span>\n                  </div>\n                  <div className=\"flex gap-2\">\n                    <Button variant=\"ghost\" size=\"sm\" icon={Edit} onClick={() => handleEditGroup(group)}>\n                      Edit\n                    </Button>\n                    <Button variant=\"ghost\" size=\"sm\" icon={Trash2} onClick={() => handleDeleteGroup(group._id)}>\n                      Delete\n                    </Button>\n                  </div>\n                </div>\n                <div className=\"text-gray-300 text-sm\">\n                  Properties: {group.properties.length === 0 ? 'None' : `${group.properties.length} added`}\n                </div>\n              </Card>\n            ))}\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default Groups; "],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 6426, "column": 0}, "map": {"version":3,"sources":["file:///Users/rawboy/Downloads/property-final--master/src/app/admin/components/pages/PropertyCategories.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Card } from '../common/Card';\nimport { Button } from '../common/Button';\nimport { Input } from '../common/Input';\nimport { FaEdit, FaTrash } from 'react-icons/fa';\n\ninterface Category {\n  _id?: string;\n  name: string;\n}\n\nconst PropertyCategories: React.FC = () => {\n  const [categories, setCategories] = useState<Category[]>([]);\n  const [showForm, setShowForm] = useState(false);\n  const [categoryName, setCategoryName] = useState('');\n  const [message, setMessage] = useState<string | null>(null);\n  const [editingId, setEditingId] = useState<string | null>(null);\n  const [editingName, setEditingName] = useState<string>('');\n\n  useEffect(() => {\n    fetch('/api/property-categories')\n      .then(res => res.json())\n      .then(data => { if (data.success) setCategories(data.categories); });\n  }, []);\n\n  const handleAddCategory = async () => {\n    setMessage(null);\n    const trimmed = categoryName.trim();\n    if (!trimmed || trimmed === '.' || /^\\.+$/.test(trimmed)) {\n      setMessage('Category name cannot be empty, only spaces, or only dots.');\n      return;\n    }\n    try {\n      const res = await fetch('/api/property-categories', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ name: trimmed })\n      });\n      const data = await res.json();\n      if (data.success) {\n        setCategories([data.category, ...categories]);\n        setShowForm(false);\n        setCategoryName('');\n        setMessage('Category added!');\n      } else {\n        setMessage('Failed to add category.');\n      }\n    } catch (err) {\n      setMessage('Error adding category.');\n    }\n  };\n\n  const handleEditClick = (id: string, name: string) => {\n    setEditingId(id);\n    setEditingName(name);\n    setMessage(null);\n  };\n\n  const handleCancelEdit = () => {\n    setEditingId(null);\n    setEditingName('');\n  };\n\n  const handleSaveEdit = async () => {\n    const trimmed = editingName.trim();\n    if (!editingId || !trimmed || trimmed === '.' || /^\\.+$/.test(trimmed)) {\n      setMessage('Category name cannot be empty, only spaces, or only dots.');\n      return;\n    }\n    setMessage(null);\n    try {\n      const res = await fetch('/api/property-categories', {\n        method: 'PUT',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ id: editingId, name: editingName.trim() }),\n      });\n      const data = await res.json();\n      if (data.success) {\n        setCategories(categories.map(cat => (cat._id === editingId ? data.category : cat)));\n        setEditingId(null);\n        setEditingName('');\n        setMessage('Category updated!');\n      } else {\n        setMessage(data.message || 'Failed to update category.');\n      }\n    } catch (err) {\n      setMessage('Error updating category.');\n    }\n  };\n\n  const handleDelete = async (id: string) => {\n    setMessage(null);\n    try {\n      const res = await fetch('/api/property-categories', {\n        method: 'DELETE',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ id }),\n      });\n      const data = await res.json();\n      if (data.success) {\n        setCategories(categories.filter(cat => cat._id !== id));\n        setMessage('Category deleted!');\n      } else {\n        setMessage(data.message || 'Failed to delete category.');\n      }\n    } catch (err) {\n      setMessage('Error deleting category.');\n    }\n  };\n\n  const isProtectedCategory = (name: string) => {\n    return name === 'Commercial' || name === 'Residential';\n  };\n\n  return (\n    <div className=\"p-8\">\n      <div className=\"flex items-center justify-between mb-8\">\n        <h1 className=\"text-2xl font-bold text-white\">Property Categories</h1>\n        <Button variant=\"primary\" onClick={() => setShowForm(true)}>\n          Create Category\n        </Button>\n      </div>\n      {message && <div className=\"mb-4 text-green-400\">{message}</div>}\n      {showForm && (\n        <Card className=\"mb-8\">\n          <div className=\"flex flex-col gap-4\">\n            <Input label=\"Category Name\" value={categoryName} onChange={setCategoryName} />\n            <div className=\"flex gap-2 mt-4\">\n              <Button variant=\"primary\" onClick={handleAddCategory}>Save Category</Button>\n              <Button variant=\"ghost\" onClick={() => { setShowForm(false); setCategoryName(''); }}>Cancel</Button>\n            </div>\n          </div>\n        </Card>\n      )}\n      <Card>\n        <div className=\"overflow-x-auto\">\n          <table className=\"w-full\">\n            <thead>\n              <tr className=\"border-b border-gray-800\">\n                <th className=\"text-left py-3 px-4 text-gray-300 font-medium\">Category Name</th>\n                <th className=\"text-center py-3 px-4 text-gray-300 font-medium\">Actions</th>\n              </tr>\n            </thead>\n            <tbody>\n              {categories.map((cat) => (\n                <tr key={cat._id || cat.name} className=\"border-b border-gray-800 hover:bg-gray-800 transition-colors\">\n                  <td className=\"py-4 px-4 text-white\">\n                    {editingId === cat._id ? (\n                      <Input value={editingName} onChange={setEditingName} />\n                    ) : (\n                      cat.name\n                    )}\n                  </td>\n                  <td className=\"py-4 px-4 text-center space-x-0\">\n                    {isProtectedCategory(cat.name) ? null : (\n                      <>\n                        <Button\n                          variant=\"ghost\"\n                          className=\"p-1 hover:bg-gray-700 rounded\"\n                          onClick={() => handleDelete(cat._id!)}\n                          aria-label=\"Delete category\"\n                        >\n                          <FaTrash className=\"w-4 h-4 text-white\" />\n                        </Button>\n                      </>\n                    )}\n                  </td>\n                </tr>\n              ))}\n            </tbody>\n          </table>\n        </div>\n      </Card>\n    </div>\n  );\n};\n\nexport default PropertyCategories;\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 6782, "column": 0}, "map": {"version":3,"sources":["file:///Users/rawboy/Downloads/property-final--master/src/app/admin/App.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { AppProvider, useApp } from './context/AppContext';\nimport { Sidebar } from './components/layout/Sidebar';\nimport { Header } from './components/layout/Header';\nimport { Footer } from './components/layout/Footer';\nimport { Toast } from './components/common/Toast';\nimport { Dashboard } from './components/pages/Dashboard';\nimport { Properties } from './components/pages/Properties';\nimport { Login } from './components/pages/Login';\nimport { PropertyForm } from './components/pages/PropertyForm';\nimport { Inquiries } from './components/pages/Inquiries';\nimport { Settings } from './components/pages/Settings';\nimport ArticlesAdmin from './components/pages/Articles';\nimport Groups from './components/pages/Groups';\nimport PropertyCategories from './components/pages/PropertyCategories';\n\nconst AppContent: React.FC = () => {\n  const [sidebarOpen, setSidebarOpen] = useState(false);\n  const { currentPage, toast, isAuthenticated, login } = useApp();\n\n  const toggleSidebar = () => {\n    setSidebarOpen(!sidebarOpen);\n  };\n\n  const renderPage = () => {\n    switch (currentPage) {\n      case 'dashboard':\n        return <Dashboard />;\n      case 'properties':\n        return <Properties />;\n      case 'property-form':\n        return <PropertyForm />;\n      case 'inquiries':\n        return <Inquiries />;\n      case 'articles':\n        return <ArticlesAdmin />;\n      case 'groups':\n        return <Groups />;\n      case 'property-categories':\n        return <PropertyCategories />;\n      default:\n        return <Dashboard />;\n    }\n  };\n\n  // Show login page if not authenticated\n  if (!isAuthenticated) {\n    return (\n      <div className=\"h-screen bg-black\">\n        <Login onLogin={login} />\n        {toast && (\n          <Toast\n            message={toast.message}\n            type={toast.type}\n            onClose={() => {}}\n          />\n        )}\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"h-screen bg-black flex overflow-hidden\">\n      <Sidebar isOpen={sidebarOpen} onToggle={toggleSidebar} />\n      \n      <div className=\"flex-1 flex flex-col overflow-hidden lg:ml-0\">\n        <Header onMenuToggle={toggleSidebar} />\n        \n        <main className=\"flex-1 overflow-y-auto\">\n          {renderPage()}\n        </main>\n        \n        <Footer />\n      </div>\n\n      {toast && (\n        <Toast\n          message={toast.message}\n          type={toast.type}\n          onClose={() => {}}\n        />\n      )}\n    </div>\n  );\n};\n\nfunction App() {\n  return (\n    <AppProvider>\n      <AppContent />\n    </AppProvider>\n  );\n}\n\nexport default App;"],"names":[],"mappings":";;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;;;;;;;;;;;;;;;;;AAEA,MAAM,aAAuB;;IAC3B,MAAM,CAAC,aAAa,eAAe,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAC/C,MAAM,EAAE,WAAW,EAAE,KAAK,EAAE,eAAe,EAAE,KAAK,EAAE,GAAG,CAAA,GAAA,gJAAA,CAAA,SAAM,AAAD;IAE5D,MAAM,gBAAgB;QACpB,eAAe,CAAC;IAClB;IAEA,MAAM,aAAa;QACjB,OAAQ;YACN,KAAK;gBACH,qBAAO,6LAAC,2JAAA,CAAA,YAAS;;;;;YACnB,KAAK;gBACH,qBAAO,6LAAC,4JAAA,CAAA,aAAU;;;;;YACpB,KAAK;gBACH,qBAAO,6LAAC,8JAAA,CAAA,eAAY;;;;;YACtB,KAAK;gBACH,qBAAO,6LAAC,2JAAA,CAAA,YAAS;;;;;YACnB,KAAK;gBACH,qBAAO,6LAAC,0JAAA,CAAA,UAAa;;;;;YACvB,KAAK;gBACH,qBAAO,6LAAC,wJAAA,CAAA,UAAM;;;;;YAChB,KAAK;gBACH,qBAAO,6LAAC,oKAAA,CAAA,UAAkB;;;;;YAC5B;gBACE,qBAAO,6LAAC,2JAAA,CAAA,YAAS;;;;;QACrB;IACF;IAEA,uCAAuC;IACvC,IAAI,CAAC,iBAAiB;QACpB,qBACE,6LAAC;YAAI,WAAU;;8BACb,6LAAC,uJAAA,CAAA,QAAK;oBAAC,SAAS;;;;;;gBACf,uBACC,6LAAC,wJAAA,CAAA,QAAK;oBACJ,SAAS,MAAM,OAAO;oBACtB,MAAM,MAAM,IAAI;oBAChB,SAAS,KAAO;;;;;;;;;;;;IAK1B;IAEA,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC,0JAAA,CAAA,UAAO;gBAAC,QAAQ;gBAAa,UAAU;;;;;;0BAExC,6LAAC;gBAAI,WAAU;;kCACb,6LAAC,yJAAA,CAAA,SAAM;wBAAC,cAAc;;;;;;kCAEtB,6LAAC;wBAAK,WAAU;kCACb;;;;;;kCAGH,6LAAC,yJAAA,CAAA,SAAM;;;;;;;;;;;YAGR,uBACC,6LAAC,wJAAA,CAAA,QAAK;gBACJ,SAAS,MAAM,OAAO;gBACtB,MAAM,MAAM,IAAI;gBAChB,SAAS,KAAO;;;;;;;;;;;;AAK1B;GApEM;;QAEmD,gJAAA,CAAA,SAAM;;;KAFzD;AAsEN,SAAS;IACP,qBACE,6LAAC,gJAAA,CAAA,cAAW;kBACV,cAAA,6LAAC;;;;;;;;;;AAGP;MANS;uCAQM","debugId":null}}]
}